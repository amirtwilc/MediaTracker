{"version":3,"file":"static/js/456.e0f68760.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/plus.ts","utils/categoryColors.ts","hooks/useMediaPagination.ts","components/media/shared/MediaPagination.tsx","../node_modules/lucide-react/src/icons/chevron-down.ts","components/media/SearchMedia.tsx","../node_modules/lucide-react/src/icons/funnel.ts","hooks/useFilters.ts","../node_modules/lucide-react/src/icons/chevron-up.ts","../node_modules/lucide-react/src/icons/check.ts","hooks/useDebounce.ts","components/media/shared/MediaTable.tsx","hooks/useSort.tsx","../node_modules/lucide-react/src/icons/chevron-right.ts","../node_modules/lucide-react/src/icons/chevron-left.ts","components/media/shared/MediaFilters.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","export const getCategoryColor = (category: string): string => {\r\n  switch (category) {\r\n    case 'MOVIE':\r\n      return 'bg-yellow-600';\r\n    case 'SERIES':\r\n      return 'bg-blue-600';\r\n    case 'GAME':\r\n      return 'bg-green-600';\r\n    default:\r\n      return 'bg-gray-600';\r\n  }\r\n};","import { useState, useRef, useCallback } from 'react';\r\nimport {\r\n  UseMediaPaginationProps,\r\n  UseMediaPaginationReturn,\r\n  PaginationState,\r\n  Cursor,\r\n} from '../types/media.types';\r\n\r\n/**\r\n * Hook to handle media pagination (cursor and offset modes)\r\n */\r\nexport function useMediaPagination<T>({\r\n  fetchFunction,\r\n  filters,\r\n  sortConfig,\r\n  paginationMode,\r\n}: UseMediaPaginationProps<T>): UseMediaPaginationReturn<T> {\r\n  // Items and pagination state\r\n  const [items, setItems] = useState<T[]>([]);\r\n  const [paginationState, setPaginationState] = useState<PaginationState>({\r\n    currentPage: 0,\r\n    totalPages: 0,\r\n    totalCount: 0,\r\n    hasNextPage: false,\r\n    hasPrevPage: false,\r\n    loading: true,\r\n  });\r\n\r\n  // Cursor tracking for cursor-based pagination\r\n  const [cursors, setCursors] = useState<(Cursor | null)[]>([null]);\r\n\r\n  // Abort controller for cancelling in-flight requests\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  /**\r\n   * Load a specific page\r\n   */\r\n  const loadPage = useCallback(\r\n    async (pageNum: number, forceRefresh: boolean = false) => {\r\n      // Cancel any in-flight request\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n\r\n      abortControllerRef.current = new AbortController();\r\n\r\n      setPaginationState(prev => ({ ...prev, loading: true }));\r\n\r\n      try {\r\n        const cursor = cursors[pageNum];\r\n        const result = await fetchFunction({\r\n          page: pageNum,\r\n          cursor,\r\n          filters,\r\n          sortConfig,\r\n          paginationMode,\r\n        });\r\n\r\n        // Update cursors if we got a new cursor\r\n        if (result.hasMore && result.cursor) {\r\n          setCursors(prev => {\r\n            const newCursors = [...prev];\r\n            if (pageNum + 1 >= newCursors.length) {\r\n              newCursors.push(result.cursor);\r\n            }\r\n            return newCursors;\r\n          });\r\n        }\r\n\r\n        // Update items and pagination state\r\n        setItems(result.items);\r\n        setPaginationState({\r\n          currentPage: pageNum,\r\n          totalPages: Math.ceil(result.totalCount / 20),\r\n          totalCount: result.totalCount,\r\n          hasNextPage: result.hasMore,\r\n          hasPrevPage: pageNum > 0,\r\n          loading: false,\r\n        });\r\n      } catch (error: any) {\r\n        if (error.name !== 'AbortError') {\r\n          console.error('Failed to load page', error);\r\n          setItems([]);\r\n          setPaginationState({\r\n            currentPage: pageNum,\r\n            totalPages: 0,\r\n            totalCount: 0,\r\n            hasNextPage: false,\r\n            hasPrevPage: false,\r\n            loading: false,\r\n          });\r\n        }\r\n      } finally {\r\n        abortControllerRef.current = null;\r\n      }\r\n    },\r\n    [fetchFunction, filters, sortConfig, paginationMode, cursors]\r\n  );\r\n\r\n  /**\r\n   * Navigate to next page\r\n   */\r\n  const handleNextPage = useCallback(() => {\r\n    if (paginationState.hasNextPage && !paginationState.loading) {\r\n      loadPage(paginationState.currentPage + 1);\r\n    }\r\n  }, [paginationState.hasNextPage, paginationState.loading, paginationState.currentPage, loadPage]);\r\n\r\n  /**\r\n   * Navigate to previous page\r\n   */\r\n  const handlePrevPage = useCallback(() => {\r\n    if (paginationState.currentPage > 0 && !paginationState.loading) {\r\n      loadPage(paginationState.currentPage - 1);\r\n    }\r\n  }, [paginationState.currentPage, paginationState.loading, loadPage]);\r\n\r\n  /**\r\n   * Reset pagination to first page\r\n   */\r\n  const resetPagination = useCallback(() => {\r\n    if (paginationMode === 'cursor') {\r\n      setCursors([null]);\r\n    }\r\n    loadPage(0);\r\n  }, [paginationMode, loadPage]);\r\n\r\n  return {\r\n    items,\r\n    paginationState,\r\n    cursors,\r\n    loadPage,\r\n    handleNextPage,\r\n    handlePrevPage,\r\n    resetPagination,\r\n  };\r\n}","import React from 'react';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport type { PaginationState } from '../../../types/media.types';\r\n\r\nexport interface MediaPaginationProps {\r\n  paginationState: PaginationState;\r\n  onNextPage: () => void;\r\n  onPrevPage: () => void;\r\n}\r\n\r\n/**\r\n * Reusable pagination component\r\n */\r\nexport const MediaPagination: React.FC<MediaPaginationProps> = ({\r\n  paginationState,\r\n  onNextPage,\r\n  onPrevPage,\r\n}) => {\r\n  const { currentPage, totalPages, totalCount, hasNextPage, hasPrevPage, loading } = paginationState;\r\n\r\n  if (totalPages <= 1) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-4 mt-4\">\r\n      <button\r\n        onClick={onPrevPage}\r\n        disabled={!hasPrevPage || loading}\r\n        className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n      >\r\n        <ChevronLeft size={20} />\r\n        Previous\r\n      </button>\r\n      <span className=\"text-gray-300\">\r\n        Page {currentPage + 1} of {totalPages}\r\n        {totalCount > 0 && (\r\n          <span className=\"text-xs text-gray-400 ml-2\">\r\n            ({totalCount} items)\r\n          </span>\r\n        )}\r\n      </span>\r\n      <button\r\n        onClick={onNextPage}\r\n        disabled={!hasNextPage || loading}\r\n        className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n      >\r\n        Next\r\n        <ChevronRight size={20} />\r\n      </button>\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Plus, Check, X } from 'lucide-react';\r\nimport type { MediaItem, UserMediaListItem } from '../../types';\r\nimport { StarRating } from '../common/StarRating';\r\nimport { getCategoryColor } from '../../utils/categoryColors';\r\nimport { api } from '../../api';\r\nimport { MediaFilters } from './shared/MediaFilters';\r\nimport { MediaPagination } from './shared/MediaPagination';\r\nimport { MediaTable, MediaTableColumn } from './shared/MediaTable';\r\nimport { useMediaPagination } from '../../hooks/useMediaPagination';\r\nimport { useFilters } from '../../hooks/useFilters';\r\nimport { useDebounce } from '../../hooks/useDebounce';\r\nimport { useSort } from '../../hooks/useSort';\r\nimport type { Cursor, PaginationMode, SortConfig, MediaFilters as MediaFiltersType } from '../../types/media.types';\r\n\r\nexport const SearchMedia: React.FC = () => {\r\n  // Filters and search\r\n  const {\r\n    filters,\r\n    availableFilters,\r\n    setSearchQuery,\r\n    setCategories,\r\n    setGenres,\r\n    setPlatforms,\r\n    setAvailableGenres,\r\n    setAvailablePlatforms,\r\n    toggleFilter,\r\n    clearAllFilters,\r\n    hasActiveFilters,\r\n  } = useFilters();\r\n\r\n  const debouncedQuery = useDebounce(filters.searchQuery, 500);\r\n\r\n  // Sort management\r\n  const { sortConfig, paginationMode, handleSort, setSortConfig } = useSort();\r\n\r\n  // Fetch function for pagination hook\r\n  const fetchPage = async ({\r\n    page,\r\n    cursor,\r\n    filters: currentFilters,\r\n    sortConfig: currentSortConfig,\r\n    paginationMode: currentMode,\r\n  }: {\r\n    page: number;\r\n    cursor: Cursor | null;\r\n    filters: MediaFiltersType;\r\n    sortConfig: SortConfig | null;\r\n    paginationMode: PaginationMode;\r\n  }) => {\r\n    const genreIds = currentFilters.genres.length > 0\r\n      ? availableFilters.genres.filter(g => currentFilters.genres.includes(g.name)).map(g => g.id)\r\n      : undefined;\r\n\r\n    const platformIds = currentFilters.platforms.length > 0\r\n      ? availableFilters.platforms.filter(p => currentFilters.platforms.includes(p.name)).map(p => p.id)\r\n      : undefined;\r\n\r\n    const categories = currentFilters.categories.length > 0 ? currentFilters.categories : undefined;\r\n\r\n    if (currentMode === 'offset' && currentSortConfig) {\r\n      const sortByMap: { [key: string]: string } = {\r\n        'name': 'NAME',\r\n        'year': 'YEAR',\r\n        'avgRating': 'AVG_RATING',\r\n      };\r\n\r\n      const backendSortBy = sortByMap[currentSortConfig.key] || 'NAME';\r\n\r\n      const response = await api.media.searchMediaItemsSorted({\r\n        query: debouncedQuery || '',\r\n        categories,\r\n        genreIds,\r\n        platformIds,\r\n        page,\r\n        size: 20,\r\n        sortBy: backendSortBy,\r\n        sortDirection: currentSortConfig.direction.toUpperCase(),\r\n      });\r\n\r\n      return {\r\n        items: response.content,\r\n        cursor: null,\r\n        hasMore: page < response.totalPages - 1,\r\n        totalCount: response.totalElements,\r\n      };\r\n    } else {\r\n      const response = await api.media.searchMediaItemsCursor({\r\n        query: debouncedQuery || '',\r\n        categories,\r\n        genreIds,\r\n        platformIds,\r\n        cursorName: cursor?.name,\r\n        cursorId: cursor?.id,\r\n        limit: 20,\r\n      });\r\n\r\n      return {\r\n        items: response.items,\r\n        cursor: response.nextCursor || null,\r\n        hasMore: response.hasMore,\r\n        totalCount: response.totalCount,\r\n      };\r\n    }\r\n  };\r\n\r\n  // Pagination hook\r\n  const {\r\n    items,\r\n    paginationState,\r\n    loadPage,\r\n    handleNextPage,\r\n    handlePrevPage,\r\n    resetPagination,\r\n  } = useMediaPagination<MediaItem>({\r\n    fetchFunction: fetchPage,\r\n    filters: {\r\n      searchQuery: debouncedQuery,\r\n      categories: filters.categories,\r\n      genres: filters.genres,\r\n      platforms: filters.platforms,\r\n    },\r\n    sortConfig,\r\n    paginationMode,\r\n  });\r\n\r\n  // UI state\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState<string>('');\r\n  const [editingAddedId, setEditingAddedId] = useState<number | null>(null);\r\n  const [editState, setEditState] = useState<Partial<UserMediaListItem>>({});\r\n\r\n  const isInitialMount = useRef(true);\r\n\r\n  // Load available filters\r\n  const loadAvailableFilters = async () => {\r\n    try {\r\n      const categories = filters.categories.length > 0 ? filters.categories : undefined;\r\n\r\n      const [genresData, platformsData] = await Promise.all([\r\n        api.filters.getAvailableMediaGenres({\r\n          query: debouncedQuery || undefined,\r\n          categories,\r\n        }),\r\n        api.filters.getAvailableMediaPlatforms({\r\n          query: debouncedQuery || undefined,\r\n          categories,\r\n        }),\r\n      ]);\r\n\r\n      setAvailableGenres(genresData);\r\n      setAvailablePlatforms(platformsData);\r\n    } catch (error) {\r\n      console.error('Failed to load available filters', error);\r\n    }\r\n  };\r\n\r\n  // Initial load\r\n  useEffect(() => {\r\n    if (isInitialMount.current) {\r\n      isInitialMount.current = false;\r\n      loadAvailableFilters();\r\n      loadPage(0);\r\n    }\r\n  }, []);\r\n\r\n  // Reload when filters/search change\r\n  useEffect(() => {\r\n    if (!isInitialMount.current) {\r\n      resetPagination();\r\n    }\r\n  }, [debouncedQuery, filters.categories, filters.genres, filters.platforms]);\r\n\r\n  // Reload available filters when query or categories change\r\n  useEffect(() => {\r\n    if (!isInitialMount.current) {\r\n      loadAvailableFilters();\r\n    }\r\n  }, [debouncedQuery, filters.categories]);\r\n\r\n  // Reload when sort changes\r\n  useEffect(() => {\r\n    if (!isInitialMount.current && sortConfig !== null) {\r\n      resetPagination();\r\n    }\r\n  }, [sortConfig]);\r\n\r\n  // Auto-hide error message\r\n  useEffect(() => {\r\n    if (errorMessage) {\r\n      const timer = setTimeout(() => setErrorMessage(''), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [errorMessage]);\r\n\r\n  // Add item handler\r\n  const handleAdd = async (mediaItemId: number) => {\r\n    try {\r\n      const result = await api.userMedia.addToMyList(mediaItemId);\r\n      setEditingAddedId(mediaItemId);\r\n      setEditState({\r\n        id: result.id,\r\n        experienced: false,\r\n        wishToReexperience: false,\r\n        rating: undefined,\r\n        comment: '',\r\n      });\r\n\r\n      items.forEach(item => {\r\n        if (item.id === mediaItemId) {\r\n          item.inUserList = true;\r\n        }\r\n      });\r\n\r\n      setErrorMessage('');\r\n    } catch (error: any) {\r\n      setErrorMessage(error.message || 'Failed to add item');\r\n    }\r\n  };\r\n\r\n  // Update item handler\r\n  const handleSaveUpdate = async (mediaItemId: number) => {\r\n    try {\r\n      if (editState.id) {\r\n        await api.userMedia.updateMyListItem(editState.id, editState);\r\n        setEditingAddedId(null);\r\n        setEditState({});\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update item', error);\r\n    }\r\n  };\r\n\r\n  // Clear all handler\r\n  const handleClearAll = () => {\r\n    setSearchQuery('');\r\n    clearAllFilters();\r\n    setSortConfig(null);\r\n  };\r\n\r\n  // Table columns configuration\r\n  const columns: MediaTableColumn<MediaItem>[] = [\r\n    {\r\n      key: 'category',\r\n      label: 'Category',\r\n      render: (item) => (\r\n        <span className={`px-2 py-1 rounded text-xs ${getCategoryColor(item.category)} text-white`}>\r\n          {item.category}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      label: 'Name',\r\n      sortable: true,\r\n      render: (item) => <span className=\"text-white font-medium\">{item.name}</span>,\r\n    },\r\n    {\r\n      key: 'year',\r\n      label: 'Year',\r\n      sortable: true,\r\n      render: (item) => <span className=\"text-gray-300\">{item.year || '-'}</span>,\r\n    },\r\n    {\r\n      key: 'avgRating',\r\n      label: 'Avg Rating',\r\n      sortable: true,\r\n      render: (item) => (\r\n        item.avgRating ? (\r\n          <span className=\"text-yellow-400 font-medium\">{item.avgRating.toFixed(1)}</span>\r\n        ) : (\r\n          <span>-</span>\r\n        )\r\n      ),\r\n    },\r\n    {\r\n      key: 'genre',\r\n      label: 'Genre',\r\n      render: (item) => (\r\n        <span className=\"text-gray-200 text-sm\">\r\n          {item.genres.map(g => g.name).join(', ')}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'platform',\r\n      label: 'Platform',\r\n      render: (item) => (\r\n        <span className=\"text-gray-200 text-sm\">\r\n          {item.platforms.map(p => p.name).join(', ')}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'experienced',\r\n      label: 'Experienced',\r\n      align: 'center',\r\n      render: (item) => {\r\n        const isEditing = editingAddedId === item.id;\r\n        const currentExperienced = isEditing ? editState.experienced : false;\r\n\r\n        return isEditing ? (\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={currentExperienced || false}\r\n            onChange={(e) => setEditState({\r\n              ...editState,\r\n              experienced: e.target.checked,\r\n              ...(e.target.checked ? {} : { rating: undefined, wishToReexperience: false })\r\n            })}\r\n            className=\"w-4 h-4\"\r\n          />\r\n        ) : (\r\n          <span>-</span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      key: 'reexperience',\r\n      label: 'Re-experience',\r\n      align: 'center',\r\n      render: (item) => {\r\n        const isEditing = editingAddedId === item.id;\r\n        const currentExperienced = isEditing ? editState.experienced : false;\r\n\r\n        return isEditing && currentExperienced ? (\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={editState.wishToReexperience || false}\r\n            onChange={(e) => setEditState({ ...editState, wishToReexperience: e.target.checked })}\r\n            className=\"w-4 h-4\"\r\n          />\r\n        ) : (\r\n          <span>-</span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      key: 'rating',\r\n      label: 'Rating',\r\n      render: (item) => {\r\n        const isEditing = editingAddedId === item.id;\r\n        const currentExperienced = isEditing ? editState.experienced : false;\r\n\r\n        if (isEditing && currentExperienced) {\r\n          return (\r\n            <div className=\"flex items-center w-[220px]\">\r\n              <StarRating\r\n                rating={editState.rating}\r\n                onChange={(rating) => setEditState({ ...editState, rating })}\r\n              />\r\n            </div>\r\n          );\r\n        }\r\n        \r\n        return (\r\n          <div className=\"flex items-center w-[220px]\">\r\n            <StarRating rating={undefined} readonly showLabel={false} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      key: 'comment',\r\n      label: 'Comment',\r\n      render: (item) => {\r\n        const isEditing = editingAddedId === item.id;\r\n\r\n        return isEditing ? (\r\n          <input\r\n            type=\"text\"\r\n            maxLength={100}\r\n            value={editState.comment || ''}\r\n            onChange={(e) => setEditState({ ...editState, comment: e.target.value })}\r\n            placeholder=\"Add comment...\"\r\n            className=\"w-full px-2 py-1 bg-gray-700 text-white rounded border border-gray-600 text-sm\"\r\n          />\r\n        ) : (\r\n          <span>-</span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      key: 'actions',\r\n      label: 'Actions',\r\n      align: 'right',\r\n      render: (item) => {\r\n        const isEditing = editingAddedId === item.id;\r\n        const isInList = item.inUserList || false;\r\n\r\n        if (isEditing) {\r\n          return (\r\n            <button\r\n              onClick={() => handleSaveUpdate(item.id)}\r\n              className=\"px-2 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs\"\r\n            >\r\n              Update\r\n            </button>\r\n          );\r\n        }\r\n\r\n        if (isInList) {\r\n          return (\r\n            <div className=\"flex items-center justify-end gap-2 text-green-400\">\r\n              <Check size={16} />\r\n              <span className=\"text-xs\">Added</span>\r\n            </div>\r\n          );\r\n        }\r\n\r\n        return (\r\n          <button\r\n            onClick={() => handleAdd(item.id)}\r\n            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded text-sm font-medium flex items-center gap-2\"\r\n          >\r\n            <Plus size={16} />\r\n            Add\r\n          </button>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const hasActiveSearch = filters.searchQuery.trim().length > 0;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Error Notification */}\r\n      {errorMessage && (\r\n        <div className=\"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded flex justify-between items-center\">\r\n          <span>{errorMessage}</span>\r\n          <button onClick={() => setErrorMessage('')} className=\"text-red-200 hover:text-white\">\r\n            <X size={18} />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Search */}\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          value={filters.searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          placeholder=\"Search for movies, series, or games...\"\r\n          className=\"flex-1 px-4 py-2 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none\"\r\n        />\r\n        {(hasActiveSearch || hasActiveFilters || sortConfig) && (\r\n          <button\r\n            onClick={handleClearAll}\r\n            className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded flex items-center gap-2\"\r\n            title=\"Clear all\"\r\n          >\r\n            <X size={20} />\r\n            Clear All\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <MediaFilters\r\n        showFilters={showFilters}\r\n        onToggleFilters={() => setShowFilters(!showFilters)}\r\n        hasActiveFilters={hasActiveFilters}\r\n        filterCategories={filters.categories}\r\n        filterGenres={filters.genres}\r\n        filterPlatforms={filters.platforms}\r\n        onCategoriesChange={setCategories}\r\n        onGenresChange={setGenres}\r\n        onPlatformsChange={setPlatforms}\r\n        availableGenres={availableFilters.genres}\r\n        availablePlatforms={availableFilters.platforms}\r\n        toggleFilter={toggleFilter}\r\n        onClearAll={clearAllFilters}\r\n      />\r\n\r\n      {/* Active Sort Display */}\r\n      {sortConfig && (\r\n        <div className=\"bg-gray-800 p-3 rounded border border-gray-700\">\r\n          <span className=\"text-sm text-gray-300\">Active sort: </span>\r\n          <span className=\"text-sm text-blue-400 ml-2\">\r\n            {sortConfig.key} {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n          </span>\r\n          <button\r\n            onClick={() => handleSort(sortConfig.key)}\r\n            className=\"ml-4 text-sm text-red-400 hover:text-red-300\"\r\n          >\r\n            Clear sort\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading/Results */}\r\n      {paginationState.loading ? (\r\n        <div className=\"text-center py-8 text-gray-400\">Loading...</div>\r\n      ) : (\r\n        <>\r\n          <MediaTable\r\n            columns={columns}\r\n            items={items}\r\n            sortConfig={sortConfig}\r\n            onSort={handleSort}\r\n            emptyMessage=\"No results found. Try adjusting your search or filters.\"\r\n          />\r\n\r\n          <MediaPagination\r\n            paginationState={paginationState}\r\n            onNextPage={handleNextPage}\r\n            onPrevPage={handlePrevPage}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import { useState, useCallback } from 'react';\r\nimport { Genre, Platform } from '../types';\r\nimport { MediaFilters, AvailableFilters } from '../types/media.types';\r\n\r\nexport interface UseFiltersProps {\r\n  includeWishToExperience?: boolean;\r\n}\r\n\r\nexport interface UseFiltersReturn {\r\n  filters: MediaFilters;\r\n  availableFilters: AvailableFilters;\r\n  setSearchQuery: (query: string) => void;\r\n  setCategories: (categories: string[]) => void;\r\n  setGenres: (genres: string[]) => void;\r\n  setPlatforms: (platforms: string[]) => void;\r\n  setWishToExperience: (value: boolean) => void;\r\n  setAvailableGenres: (genres: Genre[]) => void;\r\n  setAvailablePlatforms: (platforms: Platform[]) => void;\r\n  toggleFilter: (currentArray: string[], value: string) => string[];\r\n  clearAllFilters: () => void;\r\n  hasActiveFilters: boolean;\r\n}\r\n\r\n/**\r\n * Hook to manage filter state\r\n */\r\nexport function useFilters({ includeWishToExperience = false }: UseFiltersProps = {}): UseFiltersReturn {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [genres, setGenres] = useState<string[]>([]);\r\n  const [platforms, setPlatforms] = useState<string[]>([]);\r\n  const [wishToExperience, setWishToExperience] = useState(false);\r\n\r\n  const [availableGenres, setAvailableGenres] = useState<Genre[]>([]);\r\n  const [availablePlatforms, setAvailablePlatforms] = useState<Platform[]>([]);\r\n\r\n  /**\r\n   * Toggle a value in a filter array\r\n   */\r\n  const toggleFilter = useCallback((currentArray: string[], value: string): string[] => {\r\n    if (currentArray.includes(value)) {\r\n      return currentArray.filter(v => v !== value);\r\n    } else {\r\n      return [...currentArray, value];\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Clear all filters\r\n   */\r\n  const clearAllFilters = useCallback(() => {\r\n    setCategories([]);\r\n    setGenres([]);\r\n    setPlatforms([]);\r\n    if (includeWishToExperience) {\r\n      setWishToExperience(false);\r\n    }\r\n  }, [includeWishToExperience]);\r\n\r\n  /**\r\n   * Check if any filters are active\r\n   */\r\n  const hasActiveFilters = \r\n    categories.length > 0 || \r\n    genres.length > 0 || \r\n    platforms.length > 0 || \r\n    (includeWishToExperience && wishToExperience);\r\n\r\n  return {\r\n    filters: {\r\n      searchQuery,\r\n      categories,\r\n      genres,\r\n      platforms,\r\n      ...(includeWishToExperience ? { wishToExperience } : {}),\r\n    },\r\n    availableFilters: {\r\n      genres: availableGenres,\r\n      platforms: availablePlatforms,\r\n    },\r\n    setSearchQuery,\r\n    setCategories,\r\n    setGenres,\r\n    setPlatforms,\r\n    setWishToExperience,\r\n    setAvailableGenres,\r\n    setAvailablePlatforms,\r\n    toggleFilter,\r\n    clearAllFilters,\r\n    hasActiveFilters,\r\n  };\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Hook to debounce a value\r\n * @param value - The value to debounce\r\n * @param delay - Delay in milliseconds\r\n * @returns Debounced value\r\n */\r\nexport function useDebounce<T>(value: T, delay: number = 500): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}","import React from 'react';\r\nimport type { SortConfig } from '../../../types/media.types';\r\n\r\nexport interface MediaTableColumn<T = any> {\r\n  key: string;\r\n  label: string;\r\n  sortable?: boolean;\r\n  align?: 'left' | 'center' | 'right';\r\n  headerClassName?: string;\r\n  cellClassName?: string;\r\n  render: (item: T, index: number) => React.ReactNode;\r\n}\r\n\r\nexport interface MediaTableProps<T = any> {\r\n  columns: MediaTableColumn<T>[];\r\n  items: T[];\r\n  sortConfig: SortConfig | null;\r\n  onSort?: (key: string) => void;\r\n  emptyMessage?: string;\r\n}\r\n\r\n/**\r\n * Reusable table component with sortable headers\r\n */\r\nexport const MediaTable = <T,>({\r\n  columns,\r\n  items,\r\n  sortConfig,\r\n  onSort,\r\n  emptyMessage = 'No items to display',\r\n}: MediaTableProps<T>) => {\r\n  const getSortIcon = (key: string) => {\r\n    if (!sortConfig || sortConfig.key !== key) return null;\r\n\r\n    return (\r\n      <span className=\"ml-1 text-blue-400 text-xs\">\r\n        {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-gray-400\">\r\n        {emptyMessage}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full\">\r\n        <thead className=\"bg-gray-700 text-gray-300 text-sm\">\r\n          <tr>\r\n            {columns.map((column) => (\r\n              <th\r\n                key={column.key}\r\n                className={`px-4 py-3 text-${column.align || 'left'} ${\r\n                  column.sortable && onSort ? 'cursor-pointer hover:bg-gray-600' : ''\r\n                } ${column.headerClassName || ''}`}\r\n                onClick={column.sortable && onSort ? () => onSort(column.key) : undefined}\r\n              >\r\n                {column.label}\r\n                {column.sortable && getSortIcon(column.key)}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"text-sm\">\r\n          {items.map((item, index) => (\r\n            <tr key={(item as any).id || index} className=\"border-b border-gray-700 hover:bg-gray-800\">\r\n              {columns.map((column) => (\r\n                <td\r\n                  key={column.key}\r\n                  className={`px-4 py-3 ${column.cellClassName || ''}`}\r\n                >\r\n                  {column.render(item, index)}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};","import { useState, useCallback } from 'react';\r\nimport { SortConfig, PaginationMode } from '../types/media.types';\r\n\r\nexport interface UseSortReturn {\r\n  sortConfig: SortConfig | null;\r\n  paginationMode: PaginationMode;\r\n  handleSort: (key: string) => void;\r\n  setSortConfig: (config: SortConfig | null) => void;\r\n}\r\n\r\n/**\r\n * Hook to manage sort state and pagination mode switching\r\n */\r\nexport function useSort(): UseSortReturn {\r\n  const [sortConfig, setSortConfig] = useState<SortConfig | null>(null);\r\n  const [paginationMode, setPaginationMode] = useState<PaginationMode>('cursor');\r\n\r\n  /**\r\n   * Handle sort toggle (3-state: asc -> desc -> none)\r\n   */\r\n  const handleSort = useCallback((key: string) => {\r\n    setSortConfig(current => {\r\n      if (!current || current.key !== key) {\r\n        // First click: sort ascending, switch to offset pagination\r\n        setPaginationMode('offset');\r\n        return { key, direction: 'asc' };\r\n      } else if (current.direction === 'asc') {\r\n        // Second click: sort descending, stay in offset pagination\r\n        return { key, direction: 'desc' };\r\n      } else {\r\n        // Third click: remove sort, switch back to cursor pagination\r\n        setPaginationMode('cursor');\r\n        return null;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    sortConfig,\r\n    paginationMode,\r\n    handleSort,\r\n    setSortConfig,\r\n  };\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }]];\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('chevron-right', __iconNode);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import React from 'react';\r\nimport { Filter, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport type { Genre, Platform } from '../../../types';\r\n\r\nexport interface MediaFiltersProps {\r\n  showFilters: boolean;\r\n  onToggleFilters: () => void;\r\n  hasActiveFilters: boolean;\r\n  \r\n  // Filter values\r\n  filterCategories: string[];\r\n  filterGenres: string[];\r\n  filterPlatforms: string[];\r\n  wishToExperience?: boolean;\r\n  \r\n  // Filter setters\r\n  onCategoriesChange: (categories: string[]) => void;\r\n  onGenresChange: (genres: string[]) => void;\r\n  onPlatformsChange: (platforms: string[]) => void;\r\n  onWishToExperienceChange?: (value: boolean) => void;\r\n  \r\n  // Available options\r\n  availableGenres: Genre[];\r\n  availablePlatforms: Platform[];\r\n  \r\n  // Toggle utility\r\n  toggleFilter: (currentArray: string[], value: string) => string[];\r\n  \r\n  // Clear all\r\n  onClearAll: () => void;\r\n  \r\n  // Conditional rendering\r\n  showGenres?: boolean;\r\n  showPlatforms?: boolean;\r\n  showWishToExperience?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable filter panel component\r\n */\r\nexport const MediaFilters: React.FC<MediaFiltersProps> = ({\r\n  showFilters,\r\n  onToggleFilters,\r\n  hasActiveFilters,\r\n  filterCategories,\r\n  filterGenres,\r\n  filterPlatforms,\r\n  wishToExperience,\r\n  onCategoriesChange,\r\n  onGenresChange,\r\n  onPlatformsChange,\r\n  onWishToExperienceChange,\r\n  availableGenres,\r\n  availablePlatforms,\r\n  toggleFilter,\r\n  onClearAll,\r\n  showGenres = true,\r\n  showPlatforms = true,\r\n  showWishToExperience = false,\r\n}) => {\r\n  return (\r\n    <>\r\n      {/* Filter Toggle Button */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <button\r\n          onClick={onToggleFilters}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded border border-gray-700\"\r\n        >\r\n          <Filter size={18} />\r\n          {showFilters ? 'Hide Filters' : 'Show Filters'}\r\n          {showFilters ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n          {hasActiveFilters && !showFilters && (\r\n            <span className=\"ml-2 px-2 py-0.5 bg-blue-600 text-xs rounded\">Active</span>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Collapsible Filters */}\r\n      {showFilters && (\r\n        <div className=\"bg-gray-800 p-4 rounded border border-gray-700 space-y-4\">\r\n          {showWishToExperience && onWishToExperienceChange && (\r\n            <div className=\"flex items-center gap-4\">\r\n              <h3 className=\"text-white font-medium\">Filters:</h3>\r\n              <label className=\"flex items-center gap-2 text-white cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={wishToExperience || false}\r\n                  onChange={(e) => onWishToExperienceChange(e.target.checked)}\r\n                  className=\"w-4 h-4\"\r\n                />\r\n                Wish to Experience\r\n              </label>\r\n            </div>\r\n          )}\r\n\r\n          {!showWishToExperience && <h3 className=\"text-white font-medium\">Filters:</h3>}\r\n\r\n          {/* Categories */}\r\n          <div>\r\n            <label className=\"block text-sm text-gray-300 mb-2\">Categories:</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {['MOVIE', 'SERIES', 'GAME'].map(cat => (\r\n                <button\r\n                  key={cat}\r\n                  onClick={() => onCategoriesChange(toggleFilter(filterCategories, cat))}\r\n                  className={`px-3 py-1 rounded text-sm ${\r\n                    filterCategories.includes(cat)\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                  }`}\r\n                >\r\n                  {cat}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Genres */}\r\n          {showGenres && availableGenres.length > 0 && (\r\n            <div>\r\n              <label className=\"block text-sm text-gray-300 mb-2\">Genres:</label>\r\n              <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\r\n                {availableGenres.map(genre => (\r\n                  <button\r\n                    key={genre.id}\r\n                    onClick={() => onGenresChange(toggleFilter(filterGenres, genre.name))}\r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      filterGenres.includes(genre.name)\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {genre.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Platforms */}\r\n          {showPlatforms && availablePlatforms.length > 0 && (\r\n            <div>\r\n              <label className=\"block text-sm text-gray-300 mb-2\">Platforms:</label>\r\n              <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\r\n                {availablePlatforms.map(platform => (\r\n                  <button\r\n                    key={platform.id}\r\n                    onClick={() => onPlatformsChange(toggleFilter(filterPlatforms, platform.name))}\r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      filterPlatforms.includes(platform.name)\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {platform.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Clear All */}\r\n          {hasActiveFilters && (\r\n            <button\r\n              onClick={onClearAll}\r\n              className=\"text-sm text-blue-400 hover:text-blue-300\"\r\n            >\r\n              Clear all filters\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};"],"names":["Plus","createLucideIcon","d","key","getCategoryColor","category","useMediaPagination","_ref","fetchFunction","filters","sortConfig","paginationMode","items","setItems","useState","paginationState","setPaginationState","currentPage","totalPages","totalCount","hasNextPage","hasPrevPage","loading","cursors","setCursors","abortControllerRef","useRef","loadPage","useCallback","async","pageNum","current","abort","AbortController","prev","_objectSpread","cursor","result","page","hasMore","newCursors","length","push","Math","ceil","error","name","console","handleNextPage","handlePrevPage","resetPagination","MediaPagination","onNextPage","onPrevPage","_jsxs","className","children","onClick","disabled","_jsx","ChevronLeft","size","ChevronRight","ChevronDown","SearchMedia","availableFilters","setSearchQuery","setCategories","setGenres","setPlatforms","setAvailableGenres","setAvailablePlatforms","toggleFilter","clearAllFilters","hasActiveFilters","useFilters","debouncedQuery","useDebounce","searchQuery","handleSort","setSortConfig","useSort","currentFilters","currentSortConfig","currentMode","genreIds","genres","filter","g","includes","map","id","undefined","platformIds","platforms","p","categories","backendSortBy","response","api","media","searchMediaItemsSorted","query","sortBy","sortDirection","direction","toUpperCase","content","totalElements","searchMediaItemsCursor","cursorName","cursorId","limit","nextCursor","showFilters","setShowFilters","errorMessage","setErrorMessage","editingAddedId","setEditingAddedId","editState","setEditState","isInitialMount","loadAvailableFilters","genresData","platformsData","Promise","all","getAvailableMediaGenres","getAvailableMediaPlatforms","useEffect","timer","setTimeout","clearTimeout","columns","label","render","item","concat","sortable","year","avgRating","toFixed","join","align","isEditing","currentExperienced","experienced","type","checked","onChange","e","target","rating","wishToReexperience","StarRating","readonly","showLabel","maxLength","value","comment","placeholder","isInList","inUserList","userMedia","updateMyListItem","handleSaveUpdate","Check","addToMyList","mediaItemId","forEach","message","handleAdd","hasActiveSearch","trim","X","handleClearAll","title","MediaFilters","onToggleFilters","filterCategories","filterGenres","filterPlatforms","onCategoriesChange","onGenresChange","onPlatformsChange","availableGenres","availablePlatforms","onClearAll","_Fragment","MediaTable","onSort","emptyMessage","Funnel","includeWishToExperience","arguments","wishToExperience","setWishToExperience","currentArray","v","ChevronUp","delay","debouncedValue","setDebouncedValue","column","headerClassName","index","cellClassName","setPaginationMode","onWishToExperienceChange","showGenres","showPlatforms","showWishToExperience","Filter","cat","genre","platform"],"ignoreList":[],"sourceRoot":""}