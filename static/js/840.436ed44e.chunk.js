/*! For license information please see 840.436ed44e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[840],{812(e,t,s){s.d(t,{u:()=>i});var a=s(5043),r=s(7719),l=s(614),n=s(579);const i=e=>{let{isOpen:t,title:s,message:i,confirmText:o="Confirm",cancelText:c="Cancel",confirmVariant:d="danger",isLoading:u=!1,onConfirm:x,onCancel:g}=e;const m=(0,a.useRef)(null),h=(0,a.useRef)(null),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"!==e.key||u||g()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,u,g]),(0,a.useEffect)(()=>{var e;if(!t)return;const s=m.current;if(!s)return;null===(e=h.current)||void 0===e||e.focus();const a=s.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=a[0],l=a[a.length-1],n=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),null===l||void 0===l||l.focus()):document.activeElement===l&&(e.preventDefault(),null===r||void 0===r||r.focus()))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t]);const f=(0,a.useCallback)(e=>{e.target!==e.currentTarget||u||g()},[u,g]),p=(0,a.useCallback)(async()=>{u||await x()},[u,x]);if(!t)return null;const b="danger"===d?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 ".concat("z-50"),onClick:f,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,n.jsxs)("div",{ref:m,className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700 shadow-xl",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:["danger"===d&&(0,n.jsx)(r.A,{className:"text-red-500 flex-shrink-0",size:24}),(0,n.jsx)("h3",{id:"modal-title",className:"text-xl font-bold text-white",children:s})]}),(0,n.jsx)("button",{onClick:g,disabled:u,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:(0,n.jsx)(l.A,{size:20})})]}),(0,n.jsx)("p",{id:"modal-description",className:"text-gray-300 mb-6",children:i}),(0,n.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,n.jsx)("button",{ref:h,onClick:g,disabled:u,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800",children:c}),(0,n.jsx)("button",{ref:y,onClick:p,disabled:u,className:"px-4 py-2 ".concat(b," text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 min-w-[100px]"),children:u?"Processing...":o})]})]})})}},1382(e,t,s){s.d(t,{e:()=>a});const a=e=>{switch(e){case"MOVIE":return"bg-yellow-600";case"SERIES":return"bg-blue-600";case"GAME":return"bg-green-600";default:return"bg-gray-600"}}},1436(e,t,s){s.d(t,{C:()=>l});var a=s(2555),r=s(5043);function l(e){let{fetchFunction:t,filters:s,sortConfig:l,paginationMode:n}=e;const[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)({currentPage:0,totalPages:0,totalCount:0,hasNextPage:!1,hasPrevPage:!1,loading:!0}),[u,x]=(0,r.useState)([null]),g=(0,r.useRef)(null),m=(0,r.useCallback)(async function(e){g.current&&g.current.abort(),g.current=new AbortController,d(e=>(0,a.A)((0,a.A)({},e),{},{loading:!0}));try{const a=u[e],r=await t({page:e,cursor:a,filters:s,sortConfig:l,paginationMode:n});r.hasMore&&r.cursor&&x(t=>{const s=[...t];return e+1>=s.length&&s.push(r.cursor),s}),o(r.items),d({currentPage:e,totalPages:Math.ceil(r.totalCount/20),totalCount:r.totalCount,hasNextPage:r.hasMore,hasPrevPage:e>0,loading:!1})}catch(r){"AbortError"!==r.name&&(console.error("Failed to load page",r),o([]),d({currentPage:e,totalPages:0,totalCount:0,hasNextPage:!1,hasPrevPage:!1,loading:!1}))}finally{g.current=null}},[t,s,l,n,u]),h=(0,r.useCallback)(()=>{c.hasNextPage&&!c.loading&&m(c.currentPage+1)},[c.hasNextPage,c.loading,c.currentPage,m]),y=(0,r.useCallback)(()=>{c.currentPage>0&&!c.loading&&m(c.currentPage-1)},[c.currentPage,c.loading,m]),f=(0,r.useCallback)(()=>{"cursor"===n&&x([null]),m(0)},[n,m]);return{items:i,paginationState:c,cursors:u,loadPage:m,handleNextPage:h,handlePrevPage:y,resetPagination:f}}},1884(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},2232(e,t,s){s.d(t,{P:()=>n});s(5043);var a=s(9463),r=s(8326),l=s(579);const n=e=>{let{paginationState:t,onNextPage:s,onPrevPage:n}=e;const{currentPage:i,totalPages:o,totalCount:c,hasNextPage:d,hasPrevPage:u,loading:x}=t;return o<=1?null:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4",children:[(0,l.jsxs)("button",{onClick:n,disabled:!u||x,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(a.A,{size:20}),"Previous"]}),(0,l.jsxs)("span",{className:"text-gray-300",children:["Page ",i+1," of ",o,c>0&&(0,l.jsxs)("span",{className:"text-xs text-gray-400 ml-2",children:["(",c," items)"]})]}),(0,l.jsxs)("button",{onClick:s,disabled:!d||x,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",(0,l.jsx)(r.A,{size:20})]})]})}},2382(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2580(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},3840(e,t,s){s.d(t,{UserProfile:()=>w});var a=s(5043);const r=(0,s(5228).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var l=s(6210),n=s(1884),i=s(9292),o=s(614),c=s(6256),d=s(5526),u=s(9066),x=s(5939),g=s(1382),m=s(812),h=s(9727),y=s(2232),f=s(7226),p=s(1436),b=s(5631),v=s(7133),j=s(7530),N=s(579);const w=e=>{let{userId:t,onBack:s}=e;const{user:w}=(0,u.A)(),[C,k]=(0,a.useState)(null),[A,P]=(0,a.useState)(""),[E,S]=(0,a.useState)(!1),[F,M]=(0,a.useState)(null),{filters:z,setSearchQuery:T,setCategories:R,toggleFilter:L,clearAllFilters:I,hasActiveFilters:G}=(0,b.R)(),D=(0,v.d)(z.searchQuery,500),{sortConfig:H,paginationMode:U,handleSort:Q}=(0,j.y)(),{items:q,paginationState:O,loadPage:B,handleNextPage:W,handlePrevPage:V,resetPagination:K}=(0,p.C)({fetchFunction:async e=>{let{page:s,cursor:a,filters:r,sortConfig:l,paginationMode:n}=e;const i=r.categories.length>0?r.categories:void 0;if("offset"===n&&l){const e={name:"NAME",year:"YEAR",experienced:"EXPERIENCED",reexperience:"REEXPERIENCE",rating:"RATING"}[l.key]||"NAME",a="asc"===l.direction?"ASC":"DESC",r=await c.FH.userMedia.getUserMediaListSorted({displayUserId:t,searchQuery:D||void 0,categories:i,page:s,size:20,sortBy:e,sortDirection:a});return{items:r.content,cursor:null,hasMore:s<r.totalPages-1,totalCount:r.totalElements}}{const e=await c.FH.userMedia.getUserMediaListCursor({displayUserId:t,searchQuery:D||void 0,categories:i,cursorName:null===a||void 0===a?void 0:a.name,cursorId:null===a||void 0===a?void 0:a.id,limit:20});return{items:e.items,cursor:e.nextCursor||null,hasMore:e.hasMore,totalCount:e.totalCount}}},filters:{searchQuery:D,categories:z.categories,genres:[],platforms:[]},sortConfig:H,paginationMode:U}),[X,Y]=(0,a.useState)(!1),[J,Z]=(0,a.useState)({show:!1}),[$,_]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[se,ae]=(0,a.useState)(7),re=(0,a.useRef)(!0),le=async()=>{try{const e=await c.FH.users.getUserProfile(t);if(k(e),S(e.isFollowing),e.isFollowing)try{const e=(await c.FH.follows.getFollowing()).find(e=>String(e.user.id)===String(t));e&&(M(e.minimumRatingThreshold),ae(e.minimumRatingThreshold))}catch(A){console.error("Failed to load threshold",A)}P("")}catch(A){console.error("Failed to load profile",A),A.message.includes("private")||A.message.includes("invisible")?P("This user has chosen to make their profile private."):P("Failed to load user profile.")}};(0,a.useEffect)(()=>{re.current&&(re.current=!1,le(),B(0))},[]),(0,a.useEffect)(()=>{re.current||K()},[D,z.categories]),(0,a.useEffect)(()=>{re.current||null===H||K()},[H]);const ne=()=>{_(!0)},ie=[{key:"category",label:"Category",render:e=>(0,N.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((0,g.e)(e.mediaItem.category)," text-white"),children:e.mediaItem.category})},{key:"name",label:"Name",sortable:!0,render:e=>(0,N.jsx)("span",{className:"text-white font-medium",children:e.mediaItem.name})},{key:"year",label:"Year",sortable:!0,render:e=>(0,N.jsx)("span",{className:"text-gray-300",children:e.mediaItem.year||"-"})},{key:"genre",label:"Genre",render:e=>(0,N.jsx)("span",{className:"text-gray-200 text-sm",children:e.mediaItem.genres.map(e=>e.name).join(", ")})},{key:"platform",label:"Platform",render:e=>(0,N.jsx)("span",{className:"text-gray-200 text-sm",children:e.mediaItem.platforms.map(e=>e.name).join(", ")})},{key:"experienced",label:"Experienced",sortable:!0,align:"center",render:e=>(0,N.jsx)("span",{children:e.experienced?"\u2713":"-"})},{key:"reexperience",label:"Re-experience",sortable:!0,align:"center",render:e=>(0,N.jsx)("span",{children:e.wishToReexperience?"\u2713":"-"})},{key:"rating",label:"Rating",sortable:!0,render:e=>(0,N.jsx)(d.G,{rating:e.rating,readonly:!0})},{key:"comment",label:"Comment",render:e=>(0,N.jsx)("span",{className:"text-sm text-gray-300",children:e.comment||"-"})}],oe=z.searchQuery.trim().length>0;return A?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded",children:[(0,N.jsx)(r,{size:20}),"Back"]}),(0,N.jsxs)("div",{className:"bg-gray-800 p-8 rounded border border-gray-700 text-center",children:[(0,N.jsx)("p",{className:"text-gray-300 text-lg mb-4",children:A}),(0,N.jsx)("p",{className:"text-gray-400 mb-6",children:"This user's profile is not accessible."}),E&&(0,N.jsxs)("button",{onClick:ne,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded flex items-center gap-2",children:[(0,N.jsx)(l.A,{size:18}),"Following"]})]})]}):C?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-start justify-between",children:[(0,N.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded",children:[(0,N.jsx)(r,{size:20}),"Back"]}),(0,N.jsx)("div",{className:"flex-1 mx-6",children:(0,N.jsx)("div",{className:"bg-gray-800 p-6 rounded border border-gray-700",children:(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold text-white",children:C.username}),(0,N.jsx)("span",{className:"px-3 py-1 rounded text-sm ".concat("ADMIN"===C.role?"bg-purple-600 text-white":"bg-gray-700 text-gray-200"),children:C.role})]}),C.email&&(0,N.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:C.email}),(0,N.jsxs)("div",{className:"flex gap-6 text-sm text-gray-400",children:[(0,N.jsxs)("span",{children:["Joined: ",new Date(C.createdAt).toLocaleDateString()]}),(0,N.jsxs)("span",{children:["Last Active: ",new Date(C.lastActive).toLocaleDateString()]}),(0,N.jsxs)("span",{children:["Ratings: ",C.ratingsCount]}),(0,N.jsxs)("span",{children:["Followers: ",C.followersCount]})]})]}),(null===w||void 0===w?void 0:w.id)!==t&&(0,N.jsx)("div",{children:E?(0,N.jsx)("div",{children:ee?(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsx)("div",{className:"flex items-center gap-2",children:(0,N.jsxs)("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[(0,N.jsx)("input",{type:"checkbox",checked:0===se,onChange:e=>ae(e.target.checked?0:7),className:"w-4 h-4"}),(0,N.jsx)("span",{className:"text-sm",children:"Don't notify me about ratings"})]})}),se>0&&(0,N.jsxs)("div",{className:"flex items-center gap-2 bg-gray-700 px-3 py-2 rounded",children:[(0,N.jsx)("span",{className:"text-gray-300 text-sm",children:"Threshold:"}),(0,N.jsx)("input",{type:"number",min:"1",max:"10",value:se,onChange:e=>ae(Number(e.target.value)),className:"w-16 px-2 py-1 bg-gray-600 text-white rounded text-sm"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)("button",{onClick:async()=>{try{await c.FH.follows.updateFollowThreshold(t,se),M(se),te(!1),await le()}catch(A){console.error("Failed to update threshold",A)}},className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Save"}),(0,N.jsx)("button",{onClick:()=>{te(!1),ae(F||7)},className:"px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm",children:"Cancel"})]})]}):(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("button",{onClick:ne,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded flex items-center gap-2",children:[(0,N.jsx)(l.A,{size:18}),"Following"]}),(0,N.jsx)("button",{onClick:()=>te(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm",children:"Edit Threshold"})]}),(0,N.jsx)("p",{className:"text-sm text-gray-400",children:0===F||null===F?"No rating notification specified":"Notify when rating \u2265 ".concat(F)})]})}):(0,N.jsxs)("button",{onClick:()=>{Z({show:!0})},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-2",children:[(0,N.jsx)(n.A,{size:18}),"Follow"]})})]})})})]}),(0,N.jsxs)("h3",{className:"text-xl font-bold text-white",children:[C.username,"'s Media List"]}),(0,N.jsx)("div",{className:"flex gap-2",children:(0,N.jsxs)("div",{className:"flex-1 relative",children:[(0,N.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,N.jsx)("input",{type:"text",value:z.searchQuery,onChange:e=>T(e.target.value),placeholder:"Search by media name...",className:"w-full pl-10 pr-10 py-2 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none"}),oe&&(0,N.jsx)("button",{onClick:()=>T(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:(0,N.jsx)(o.A,{size:18})})]})}),(0,N.jsx)(h.c,{showFilters:X,onToggleFilters:()=>Y(!X),hasActiveFilters:G,filterCategories:z.categories,filterGenres:[],filterPlatforms:[],onCategoriesChange:R,onGenresChange:()=>{},onPlatformsChange:()=>{},availableGenres:[],availablePlatforms:[],toggleFilter:L,onClearAll:()=>{T(""),I()},showGenres:!1,showPlatforms:!1}),H&&(0,N.jsxs)("div",{className:"bg-gray-800 p-3 rounded border border-gray-700",children:[(0,N.jsx)("span",{className:"text-sm text-gray-300",children:"Active sort: "}),(0,N.jsxs)("span",{className:"text-sm text-blue-400 ml-2",children:[H.key," ","asc"===H.direction?"\u2191":"\u2193"]}),(0,N.jsx)("button",{onClick:()=>Q(H.key),className:"ml-4 text-sm text-red-400 hover:text-red-300",children:"Clear sort"})]}),O.loading&&0===q.length?(0,N.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading list..."}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.z,{columns:ie,items:q,sortConfig:H,onSort:Q,emptyMessage:G||oe?"No items match your filters.":"No items in list."}),(0,N.jsx)(y.P,{paginationState:O,onNextPage:W,onPrevPage:V})]}),(0,N.jsx)(m.u,{isOpen:$,title:"Unfollow User",message:"Are you sure you want to unfollow ".concat(null===C||void 0===C?void 0:C.username,"?"),onConfirm:async()=>{try{await c.FH.follows.unfollowUser(t),S(!1),M(null),_(!1),await le()}catch(A){console.error("Failed to unfollow user",A),_(!1)}},onCancel:()=>_(!1)}),(0,N.jsx)(x.z,{isOpen:J.show,username:C.username,onConfirm:async e=>{try{await c.FH.follows.followUser(t,null===e?0:e),S(!0),le(),Z({show:!1})}catch(A){console.error("Failed to follow user",A)}},onCancel:()=>Z({show:!1})})]}):(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded",children:[(0,N.jsx)(r,{size:20}),"Back"]}),(0,N.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading..."})]})}},5631(e,t,s){s.d(t,{R:()=>l});var a=s(2555),r=s(5043);function l(){let{includeWishToExperience:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,s]=(0,r.useState)(""),[l,n]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),[g,m]=(0,r.useState)([]),[h,y]=(0,r.useState)([]),f=(0,r.useCallback)((e,t)=>e.includes(t)?e.filter(e=>e!==t):[...e,t],[]),p=(0,r.useCallback)(()=>{n([]),o([]),d([]),e&&x(!1)},[e]),b=l.length>0||i.length>0||c.length>0||e&&u;return{filters:(0,a.A)({searchQuery:t,categories:l,genres:i,platforms:c},e?{wishToExperience:u}:{}),availableFilters:{genres:g,platforms:h},setSearchQuery:s,setCategories:n,setGenres:o,setPlatforms:d,setWishToExperience:x,setAvailableGenres:m,setAvailablePlatforms:y,toggleFilter:f,clearAllFilters:p,hasActiveFilters:b}}},5711(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},5939(e,t,s){s.d(t,{z:()=>o});var a=s(5043),r=s(3329),l=s(9233),n=s(614),i=s(579);const o=e=>{let{isOpen:t,username:s,currentThreshold:o,isLoading:c=!1,onConfirm:d,onCancel:u}=e;const[x,g]=(0,a.useState)(7),[m,h]=(0,a.useState)(!0),y=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{t&&(void 0!==o&&null!==o?(g(o),h(!0)):null===o?(g(7),h(!1)):(g(7),h(!0)))},[t,o]),(0,a.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"!==e.key||c||u()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,c,u]),(0,a.useEffect)(()=>{var e;if(!t)return;const s=y.current;if(!s)return;null===(e=f.current)||void 0===e||e.focus();const a=s.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=a[0],l=a[a.length-1],n=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),null===l||void 0===l||l.focus()):document.activeElement===l&&(e.preventDefault(),null===r||void 0===r||r.focus()))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t]);const p=(0,a.useCallback)(e=>{e.target!==e.currentTarget||c||u()},[c,u]),b=(0,a.useCallback)(async()=>{if(c)return;const e=m?x:null;m&&(x<1||x>10)||await d(e)},[c,m,x,d]);return t?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 ".concat("z-50"),onClick:p,role:"dialog","aria-modal":"true","aria-labelledby":"threshold-modal-title","aria-describedby":"threshold-modal-description",children:(0,i.jsxs)("div",{ref:y,className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700 shadow-xl",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsxs)("h3",{id:"threshold-modal-title",className:"text-xl font-bold text-white",children:["Follow ",s]}),(0,i.jsx)("button",{onClick:u,disabled:c,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:(0,i.jsx)(n.A,{size:20})})]}),(0,i.jsxs)("p",{id:"threshold-modal-description",className:"text-gray-300 mb-6",children:["Choose whether you want to receive notifications when ",s," rates items."]}),(0,i.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[(0,i.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,i.jsx)("div",{className:"flex items-center h-6",children:(0,i.jsx)("input",{type:"radio",name:"notification-type",checked:m,onChange:()=>h(!0),disabled:c,className:"w-4 h-4 text-blue-600 cursor-pointer"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-white font-medium",children:[(0,i.jsx)(l.A,{size:16}),(0,i.jsx)("span",{children:"Enable notifications"})]}),(0,i.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Get notified when ",s," rates items at or above your threshold"]})]})]}),(0,i.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,i.jsx)("div",{className:"flex items-center h-6",children:(0,i.jsx)("input",{type:"radio",name:"notification-type",checked:!m,onChange:()=>h(!1),disabled:c,className:"w-4 h-4 text-blue-600 cursor-pointer"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-white font-medium",children:[(0,i.jsx)(r.A,{size:16}),(0,i.jsx)("span",{children:"Follow silently"})]}),(0,i.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Follow ",s," without receiving notifications"]})]})]})]}),m&&(0,i.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:["Minimum rating threshold: ",(0,i.jsx)("span",{className:"text-white text-lg",children:x})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("input",{type:"range",min:1,max:10,value:x,onChange:e=>g(Number(e.target.value)),disabled:c,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-600","aria-label":"Rating threshold"}),(0,i.jsxs)("div",{className:"flex justify-between text-xs text-gray-400",children:[(0,i.jsx)("span",{children:1}),(0,i.jsxs)("span",{className:"text-gray-300",children:["Notify when rating \u2265 ",x]}),(0,i.jsx)("span",{children:10})]})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,i.jsx)("button",{ref:f,onClick:u,disabled:c,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800",children:"Cancel"}),(0,i.jsx)("button",{onClick:b,disabled:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 min-w-[100px]",children:c?"Processing...":"Follow"})]})]})}):null}},6210(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7133(e,t,s){s.d(t,{d:()=>r});var a=s(5043);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[s,r]=(0,a.useState)(e);return(0,a.useEffect)(()=>{const s=setTimeout(()=>{r(e)},t);return()=>clearTimeout(s)},[e,t]),s}},7226(e,t,s){s.d(t,{z:()=>r});s(5043);var a=s(579);const r=e=>{let{columns:t,items:s,sortConfig:r,onSort:l,emptyMessage:n="No items to display"}=e;return 0===s.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:n}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700 text-gray-300 text-sm",children:(0,a.jsx)("tr",{children:t.map(e=>{return(0,a.jsxs)("th",{className:"px-4 py-3 text-".concat(e.align||"left"," ").concat(e.sortable&&l?"cursor-pointer hover:bg-gray-600":""," ").concat(e.headerClassName||""),onClick:e.sortable&&l?()=>l(e.key):void 0,children:[e.label,e.sortable&&(t=e.key,r&&r.key===t?(0,a.jsx)("span",{className:"ml-1 text-blue-400 text-xs",children:"asc"===r.direction?"\u2191":"\u2193"}):null)]},e.key);var t})})}),(0,a.jsx)("tbody",{className:"text-sm",children:s.map((e,s)=>(0,a.jsx)("tr",{className:"border-b border-gray-700 hover:bg-gray-800",children:t.map(t=>(0,a.jsx)("td",{className:"px-4 py-3 ".concat(t.cellClassName||""),children:t.render(e,s)},t.key))},e.id||s))})]})})}},7530(e,t,s){s.d(t,{y:()=>r});var a=s(5043);function r(){const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)("cursor");return{sortConfig:e,paginationMode:s,handleSort:(0,a.useCallback)(e=>{t(t=>t&&t.key===e?"asc"===t.direction?{key:e,direction:"desc"}:(r("cursor"),null):(r("offset"),{key:e,direction:"asc"}))},[]),setSortConfig:t}}},8326(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9292(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9463(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9727(e,t,s){s.d(t,{c:()=>i});s(5043);var a=s(2580),r=s(2382),l=s(5711),n=s(579);const i=e=>{let{showFilters:t,onToggleFilters:s,hasActiveFilters:i,filterCategories:o,filterGenres:c,filterPlatforms:d,wishToExperience:u,onCategoriesChange:x,onGenresChange:g,onPlatformsChange:m,onWishToExperienceChange:h,availableGenres:y,availablePlatforms:f,toggleFilter:p,onClearAll:b,showGenres:v=!0,showPlatforms:j=!0,showWishToExperience:N=!1}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded border border-gray-700",children:[(0,n.jsx)(a.A,{size:18}),t?"Hide Filters":"Show Filters",t?(0,n.jsx)(l.A,{size:18}):(0,n.jsx)(r.A,{size:18}),i&&!t&&(0,n.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-600 text-xs rounded",children:"Active"})]})}),t&&(0,n.jsxs)("div",{className:"bg-gray-800 p-4 rounded border border-gray-700 space-y-4",children:[N&&h&&(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("h3",{className:"text-white font-medium",children:"Filters:"}),(0,n.jsxs)("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:u||!1,onChange:e=>h(e.target.checked),className:"w-4 h-4"}),"Wish to Experience"]})]}),!N&&(0,n.jsx)("h3",{className:"text-white font-medium",children:"Filters:"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Categories:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:["MOVIE","SERIES","GAME"].map(e=>(0,n.jsx)("button",{onClick:()=>x(p(o,e)),className:"px-3 py-1 rounded text-sm ".concat(o.includes(e)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e},e))})]}),v&&y.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Genres:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:y.map(e=>(0,n.jsx)("button",{onClick:()=>g(p(c,e.name)),className:"px-3 py-1 rounded text-sm ".concat(c.includes(e.name)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e.name},e.id))})]}),j&&f.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Platforms:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:f.map(e=>(0,n.jsx)("button",{onClick:()=>m(p(d,e.name)),className:"px-3 py-1 rounded text-sm ".concat(d.includes(e.name)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e.name},e.id))})]}),i&&(0,n.jsx)("button",{onClick:b,className:"text-sm text-blue-400 hover:text-blue-300",children:"Clear all filters"})]})]})}}}]);
//# sourceMappingURL=840.436ed44e.chunk.js.map