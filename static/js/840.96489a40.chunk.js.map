{"version":3,"file":"static/js/840.96489a40.chunk.js","mappings":"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","sources":["components/common/ConfirmModal.tsx","utils/categoryColors.ts","hooks/useMediaPagination.ts","../node_modules/lucide-react/src/icons/user-plus.ts","components/media/shared/MediaPagination.tsx","../node_modules/lucide-react/src/icons/chevron-down.ts","../node_modules/lucide-react/src/icons/funnel.ts","../node_modules/lucide-react/src/icons/arrow-left.ts","components/users/UserProfile.tsx","hooks/useFilters.ts","../node_modules/lucide-react/src/icons/chevron-up.ts","components/common/ThresholdModal.tsx","../node_modules/lucide-react/src/icons/check.ts","hooks/useDebounce.ts","components/media/shared/MediaTable.tsx","hooks/useSort.tsx","../node_modules/lucide-react/src/icons/chevron-right.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/chevron-left.ts","components/media/shared/MediaFilters.tsx"],"sourcesContent":["import React, { useEffect, useRef, useCallback } from 'react';\r\nimport { AlertTriangle, X } from 'lucide-react';\r\n\r\n// Constants\r\nconst MODAL_Z_INDEX = 'z-50';\r\n\r\ninterface ConfirmModalProps {\r\n  isOpen: boolean;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  confirmVariant?: 'danger' | 'primary';\r\n  isLoading?: boolean;\r\n  onConfirm: () => void | Promise<void>;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const ConfirmModal: React.FC<ConfirmModalProps> = ({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  confirmVariant = 'danger',\r\n  isLoading = false,\r\n  onConfirm,\r\n  onCancel,\r\n}) => {\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n  const cancelButtonRef = useRef<HTMLButtonElement>(null);\r\n  const confirmButtonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  /**\r\n   * Handle escape key press\r\n   */\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && !isLoading) {\r\n        onCancel();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, isLoading, onCancel]);\r\n\r\n  /**\r\n   * Focus trap\r\n   */\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const modal = modalRef.current;\r\n    if (!modal) return;\r\n\r\n    // Focus first button\r\n    cancelButtonRef.current?.focus();\r\n\r\n    // Get all focusable elements\r\n    const focusableElements = modal.querySelectorAll<HTMLElement>(\r\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n\r\n    const firstElement = focusableElements[0];\r\n    const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n    const handleTab = (e: KeyboardEvent) => {\r\n      if (e.key !== 'Tab') return;\r\n\r\n      if (e.shiftKey) {\r\n        // Shift + Tab\r\n        if (document.activeElement === firstElement) {\r\n          e.preventDefault();\r\n          lastElement?.focus();\r\n        }\r\n      } else {\r\n        // Tab\r\n        if (document.activeElement === lastElement) {\r\n          e.preventDefault();\r\n          firstElement?.focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleTab);\r\n    return () => document.removeEventListener('keydown', handleTab);\r\n  }, [isOpen]);\r\n\r\n  /**\r\n   * Handle backdrop click\r\n   */\r\n  const handleBackdropClick = useCallback(\r\n    (e: React.MouseEvent) => {\r\n      if (e.target === e.currentTarget && !isLoading) {\r\n        onCancel();\r\n      }\r\n    },\r\n    [isLoading, onCancel]\r\n  );\r\n\r\n  /**\r\n   * Handle confirm with async support\r\n   */\r\n  const handleConfirm = useCallback(async () => {\r\n    if (isLoading) return;\r\n    await onConfirm();\r\n  }, [isLoading, onConfirm]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const confirmButtonClass =\r\n    confirmVariant === 'danger'\r\n      ? 'bg-red-600 hover:bg-red-700 focus:ring-red-500'\r\n      : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500';\r\n\r\n  return (\r\n    <div\r\n      className={`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 ${MODAL_Z_INDEX}`}\r\n      onClick={handleBackdropClick}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"modal-title\"\r\n      aria-describedby=\"modal-description\"\r\n    >\r\n      <div\r\n        ref={modalRef}\r\n        className=\"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700 shadow-xl\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            {confirmVariant === 'danger' && (\r\n              <AlertTriangle className=\"text-red-500 flex-shrink-0\" size={24} />\r\n            )}\r\n            <h3 id=\"modal-title\" className=\"text-xl font-bold text-white\">\r\n              {title}\r\n            </h3>\r\n          </div>\r\n          <button\r\n            onClick={onCancel}\r\n            disabled={isLoading}\r\n            className=\"text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Message */}\r\n        <p id=\"modal-description\" className=\"text-gray-300 mb-6\">\r\n          {message}\r\n        </p>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-3 justify-end\">\r\n          <button\r\n            ref={cancelButtonRef}\r\n            onClick={onCancel}\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800\"\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            ref={confirmButtonRef}\r\n            onClick={handleConfirm}\r\n            disabled={isLoading}\r\n            className={`px-4 py-2 ${confirmButtonClass} text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 min-w-[100px]`}\r\n          >\r\n            {isLoading ? 'Processing...' : confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","export const getCategoryColor = (category: string): string => {\r\n  switch (category) {\r\n    case 'MOVIE':\r\n      return 'bg-yellow-600';\r\n    case 'SERIES':\r\n      return 'bg-blue-600';\r\n    case 'GAME':\r\n      return 'bg-green-600';\r\n    default:\r\n      return 'bg-gray-600';\r\n  }\r\n};","import { useState, useRef, useCallback } from 'react';\r\nimport {\r\n  UseMediaPaginationProps,\r\n  UseMediaPaginationReturn,\r\n  PaginationState,\r\n  Cursor,\r\n} from '../types/media.types';\r\n\r\n/**\r\n * Hook to handle media pagination (cursor and offset modes)\r\n */\r\nexport function useMediaPagination<T>({\r\n  fetchFunction,\r\n  filters,\r\n  sortConfig,\r\n  paginationMode,\r\n}: UseMediaPaginationProps<T>): UseMediaPaginationReturn<T> {\r\n  // Items and pagination state\r\n  const [items, setItems] = useState<T[]>([]);\r\n  const [paginationState, setPaginationState] = useState<PaginationState>({\r\n    currentPage: 0,\r\n    totalPages: 0,\r\n    totalCount: 0,\r\n    hasNextPage: false,\r\n    hasPrevPage: false,\r\n    loading: true,\r\n  });\r\n\r\n  // Cursor tracking for cursor-based pagination\r\n  const [cursors, setCursors] = useState<(Cursor | null)[]>([null]);\r\n\r\n  // Abort controller for cancelling in-flight requests\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  /**\r\n   * Load a specific page\r\n   */\r\n  const loadPage = useCallback(\r\n    async (pageNum: number, forceRefresh: boolean = false) => {\r\n      // Cancel any in-flight request\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n\r\n      abortControllerRef.current = new AbortController();\r\n\r\n      setPaginationState(prev => ({ ...prev, loading: true }));\r\n\r\n      try {\r\n        const cursor = cursors[pageNum];\r\n        const result = await fetchFunction({\r\n          page: pageNum,\r\n          cursor,\r\n          filters,\r\n          sortConfig,\r\n          paginationMode,\r\n        });\r\n\r\n        // Update cursors if we got a new cursor\r\n        if (result.hasMore && result.cursor) {\r\n          setCursors(prev => {\r\n            const newCursors = [...prev];\r\n            if (pageNum + 1 >= newCursors.length) {\r\n              newCursors.push(result.cursor);\r\n            }\r\n            return newCursors;\r\n          });\r\n        }\r\n\r\n        // Update items and pagination state\r\n        setItems(result.items);\r\n        setPaginationState({\r\n          currentPage: pageNum,\r\n          totalPages: Math.ceil(result.totalCount / 20),\r\n          totalCount: result.totalCount,\r\n          hasNextPage: result.hasMore,\r\n          hasPrevPage: pageNum > 0,\r\n          loading: false,\r\n        });\r\n      } catch (error: any) {\r\n        if (error.name !== 'AbortError') {\r\n          console.error('Failed to load page', error);\r\n          setItems([]);\r\n          setPaginationState({\r\n            currentPage: pageNum,\r\n            totalPages: 0,\r\n            totalCount: 0,\r\n            hasNextPage: false,\r\n            hasPrevPage: false,\r\n            loading: false,\r\n          });\r\n        }\r\n      } finally {\r\n        abortControllerRef.current = null;\r\n      }\r\n    },\r\n    [fetchFunction, filters, sortConfig, paginationMode, cursors]\r\n  );\r\n\r\n  /**\r\n   * Navigate to next page\r\n   */\r\n  const handleNextPage = useCallback(() => {\r\n    if (paginationState.hasNextPage && !paginationState.loading) {\r\n      loadPage(paginationState.currentPage + 1);\r\n    }\r\n  }, [paginationState.hasNextPage, paginationState.loading, paginationState.currentPage, loadPage]);\r\n\r\n  /**\r\n   * Navigate to previous page\r\n   */\r\n  const handlePrevPage = useCallback(() => {\r\n    if (paginationState.currentPage > 0 && !paginationState.loading) {\r\n      loadPage(paginationState.currentPage - 1);\r\n    }\r\n  }, [paginationState.currentPage, paginationState.loading, loadPage]);\r\n\r\n  /**\r\n   * Reset pagination to first page\r\n   */\r\n  const resetPagination = useCallback(() => {\r\n    if (paginationMode === 'cursor') {\r\n      setCursors([null]);\r\n    }\r\n    loadPage(0);\r\n  }, [paginationMode, loadPage]);\r\n\r\n  return {\r\n    items,\r\n    paginationState,\r\n    cursors,\r\n    loadPage,\r\n    handleNextPage,\r\n    handlePrevPage,\r\n    resetPagination,\r\n  };\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n","import React from 'react';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport type { PaginationState } from '../../../types/media.types';\r\n\r\nexport interface MediaPaginationProps {\r\n  paginationState: PaginationState;\r\n  onNextPage: () => void;\r\n  onPrevPage: () => void;\r\n}\r\n\r\n/**\r\n * Reusable pagination component\r\n */\r\nexport const MediaPagination: React.FC<MediaPaginationProps> = ({\r\n  paginationState,\r\n  onNextPage,\r\n  onPrevPage,\r\n}) => {\r\n  const { currentPage, totalPages, totalCount, hasNextPage, hasPrevPage, loading } = paginationState;\r\n\r\n  if (totalPages <= 1) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-4 mt-4\">\r\n      <button\r\n        onClick={onPrevPage}\r\n        disabled={!hasPrevPage || loading}\r\n        className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n      >\r\n        <ChevronLeft size={20} />\r\n        Previous\r\n      </button>\r\n      <span className=\"text-gray-300\">\r\n        Page {currentPage + 1} of {totalPages}\r\n        {totalCount > 0 && (\r\n          <span className=\"text-xs text-gray-400 ml-2\">\r\n            ({totalCount} items)\r\n          </span>\r\n        )}\r\n      </span>\r\n      <button\r\n        onClick={onNextPage}\r\n        disabled={!hasNextPage || loading}\r\n        className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n      >\r\n        Next\r\n        <ChevronRight size={20} />\r\n      </button>\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { ArrowLeft, UserPlus, Check, Search, X } from 'lucide-react';\r\nimport type { UserMediaListItem } from '../../types';\r\nimport { UserProfile as UserProfileType } from '../../api/api.types';\r\nimport { api } from '../../api';\r\nimport { StarRating } from '../common/StarRating';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { ThresholdModal } from '../common/ThresholdModal';\r\nimport { getCategoryColor } from '../../utils/categoryColors';\r\nimport { ConfirmModal } from '../common/ConfirmModal';\r\nimport { MediaFilters } from '../media/shared/MediaFilters';\r\nimport { MediaPagination } from '../media/shared/MediaPagination';\r\nimport { MediaTable, MediaTableColumn } from '../media/shared/MediaTable';\r\nimport { useMediaPagination } from '../../hooks/useMediaPagination';\r\nimport { useFilters } from '../../hooks/useFilters';\r\nimport { useDebounce } from '../../hooks/useDebounce';\r\nimport { useSort } from '../../hooks/useSort';\r\nimport { useAlert } from '../../hooks/useAlert';\r\nimport { AlertContainer } from '../common/Alert';\r\nimport type { Cursor, PaginationMode, SortConfig, MediaFilters as MediaFiltersType } from '../../types/media.types';\r\n\r\ninterface UserProfileProps {\r\n  userId: number;\r\n  onBack: () => void;\r\n}\r\n\r\nexport const UserProfile: React.FC<UserProfileProps> = ({ userId, onBack }) => {\r\n  const { user: currentUser } = useAuth();\r\n\r\n  const [profile, setProfile] = useState<UserProfileType | null>(null);\r\n  const [error, setError] = useState<string>('');\r\n  const [isFollowing, setIsFollowing] = useState(false);\r\n  const [currentThreshold, setCurrentThreshold] = useState<number | null>(null);\r\n  const { alert, handleApiError } = useAlert();\r\n\r\n  const {\r\n    filters,\r\n    setSearchQuery,\r\n    setCategories,\r\n    toggleFilter,\r\n    clearAllFilters,\r\n    hasActiveFilters,\r\n  } = useFilters();\r\n\r\n  const debouncedSearchQuery = useDebounce(filters.searchQuery, 500);\r\n\r\n  // Sort management\r\n  const { sortConfig, paginationMode, handleSort } = useSort();\r\n\r\n  const fetchPage = async ({\r\n    page,\r\n    cursor,\r\n    filters: currentFilters,\r\n    sortConfig: currentSortConfig,\r\n    paginationMode: currentMode,\r\n  }: {\r\n    page: number;\r\n    cursor: Cursor | null;\r\n    filters: MediaFiltersType;\r\n    sortConfig: SortConfig | null;\r\n    paginationMode: PaginationMode;\r\n  }) => {\r\n    const categories = currentFilters.categories.length > 0 ? currentFilters.categories : undefined;\r\n\r\n    if (currentMode === 'offset' && currentSortConfig) {\r\n      const sortByMap: { [key: string]: string } = {\r\n        'name': 'NAME',\r\n        'year': 'YEAR',\r\n        'experienced': 'EXPERIENCED',\r\n        'reexperience': 'REEXPERIENCE',\r\n        'rating': 'RATING',\r\n      };\r\n\r\n      const backendSortBy = sortByMap[currentSortConfig.key] || 'NAME';\r\n      const backendSortDirection = currentSortConfig.direction === 'asc' ? 'ASC' : 'DESC';\r\n\r\n      const response = await api.userMedia.getUserMediaListSorted({\r\n        displayUserId: userId,\r\n        searchQuery: debouncedSearchQuery || undefined,\r\n        categories,\r\n        page,\r\n        size: 20,\r\n        sortBy: backendSortBy,\r\n        sortDirection: backendSortDirection,\r\n      });\r\n\r\n      return {\r\n        items: response.content,\r\n        cursor: null,\r\n        hasMore: page < response.totalPages - 1,\r\n        totalCount: response.totalElements,\r\n      };\r\n    } else {\r\n      const response = await api.userMedia.getUserMediaListCursor({\r\n        displayUserId: userId,\r\n        searchQuery: debouncedSearchQuery || undefined,\r\n        categories,\r\n        cursorName: cursor?.name,\r\n        cursorId: cursor?.id,\r\n        limit: 20,\r\n      });\r\n\r\n      return {\r\n        items: response.items,\r\n        cursor: response.nextCursor || null,\r\n        hasMore: response.hasMore,\r\n        totalCount: response.totalCount,\r\n      };\r\n    }\r\n  };\r\n\r\n  const {\r\n    items,\r\n    paginationState,\r\n    loadPage,\r\n    handleNextPage,\r\n    handlePrevPage,\r\n    resetPagination,\r\n  } = useMediaPagination<UserMediaListItem>({\r\n    fetchFunction: fetchPage,\r\n    filters: {\r\n      searchQuery: debouncedSearchQuery,\r\n      categories: filters.categories,\r\n      genres: [],\r\n      platforms: [],\r\n    },\r\n    sortConfig,\r\n    paginationMode,\r\n  });\r\n\r\n  // UI state\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [followModal, setFollowModal] = useState<{ show: boolean }>({ show: false });\r\n  const [unfollowConfirm, setUnfollowConfirm] = useState(false);\r\n  const [editingThreshold, setEditingThreshold] = useState(false);\r\n  const [newThreshold, setNewThreshold] = useState<number>(7);\r\n\r\n  const isInitialMount = useRef(true);\r\n\r\n  const loadProfile = async () => {\r\n    try {\r\n      const data = await api.users.getUserProfile(userId);\r\n      setProfile(data);\r\n      setIsFollowing(data.isFollowing);\r\n\r\n      if (data.isFollowing) {\r\n        try {\r\n          const followData = await api.follows.getFollowing();\r\n          const followRelation = followData.find(f => String(f.user.id) === String(userId));\r\n          if (followRelation) {\r\n            setCurrentThreshold(followRelation.minimumRatingThreshold);\r\n            setNewThreshold(followRelation.minimumRatingThreshold);\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to load threshold', error);\r\n        }\r\n      }\r\n      setError('');\r\n    } catch (error: any) {\r\n      console.error('Failed to load profile', error);\r\n      if (error.message.includes('private') || error.message.includes('invisible')) {\r\n        setError('This user has chosen to make their profile private.');\r\n      } else {\r\n        setError('Failed to load user profile.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Initial load\r\n  useEffect(() => {\r\n    if (isInitialMount.current) {\r\n      isInitialMount.current = false;\r\n      loadProfile();\r\n      loadPage(0);\r\n    }\r\n  }, []);\r\n\r\n  // Reload when filters change\r\n  useEffect(() => {\r\n    if (!isInitialMount.current) {\r\n      resetPagination();\r\n    }\r\n  }, [debouncedSearchQuery, filters.categories]);\r\n\r\n  // Reload when sort changes\r\n  useEffect(() => {\r\n    if (!isInitialMount.current && sortConfig !== null) {\r\n      resetPagination();\r\n    }\r\n  }, [sortConfig]);\r\n\r\n  const handleFollowClick = () => {\r\n    setFollowModal({ show: true });\r\n  };\r\n\r\n  const handleFollowConfirm = async (threshold: number | null) => {\r\n    try {\r\n      await api.follows.followUser(userId, threshold === null ? 0 : threshold);\r\n      setIsFollowing(true);\r\n      loadProfile();\r\n      setFollowModal({ show: false });\r\n    } catch (error) {\r\n      handleApiError(error, 'Failed to follow user');\r\n    }\r\n  };\r\n\r\n  const handleUnfollowClick = () => {\r\n    setUnfollowConfirm(true);\r\n  };\r\n\r\n  const handleUnfollowConfirm = async () => {\r\n    try {\r\n      await api.follows.unfollowUser(userId);\r\n      setIsFollowing(false);\r\n      setCurrentThreshold(null);\r\n      setUnfollowConfirm(false);\r\n      await loadProfile();\r\n    } catch (error) {\r\n      handleApiError(error, 'Failed to unfollow user');\r\n      setUnfollowConfirm(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateThreshold = async () => {\r\n    try {\r\n      await api.follows.updateFollowThreshold(userId, newThreshold);\r\n      setCurrentThreshold(newThreshold);\r\n      setEditingThreshold(false);\r\n      await loadProfile();\r\n    } catch (error) {\r\n      handleApiError(error, 'Failed to update threshold');\r\n    }\r\n  };\r\n\r\n  // Table columns configuration (read-only)\r\n  const columns: MediaTableColumn<UserMediaListItem>[] = [\r\n    {\r\n      key: 'category',\r\n      label: 'Category',\r\n      render: (item) => (\r\n        <span className={`px-2 py-1 rounded text-xs ${getCategoryColor(item.mediaItem.category)} text-white`}>\r\n          {item.mediaItem.category}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      label: 'Name',\r\n      sortable: true,\r\n      render: (item) => <span className=\"text-white font-medium\">{item.mediaItem.name}</span>,\r\n    },\r\n    {\r\n      key: 'year',\r\n      label: 'Year',\r\n      sortable: true,\r\n      render: (item) => <span className=\"text-gray-300\">{item.mediaItem.year || '-'}</span>,\r\n    },\r\n    {\r\n      key: 'genre',\r\n      label: 'Genre',\r\n      render: (item) => (\r\n        <span className=\"text-gray-200 text-sm\">\r\n          {item.mediaItem.genres.map(g => g.name).join(', ')}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'platform',\r\n      label: 'Platform',\r\n      render: (item) => (\r\n        <span className=\"text-gray-200 text-sm\">\r\n          {item.mediaItem.platforms.map(p => p.name).join(', ')}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'experienced',\r\n      label: 'Experienced',\r\n      sortable: true,\r\n      align: 'center',\r\n      render: (item) => <span>{item.experienced ? 'âœ“' : '-'}</span>,\r\n    },\r\n    {\r\n      key: 'reexperience',\r\n      label: 'Re-experience',\r\n      sortable: true,\r\n      align: 'center',\r\n      render: (item) => <span>{item.wishToReexperience ? 'âœ“' : '-'}</span>,\r\n    },\r\n    {\r\n      key: 'rating',\r\n      label: 'Rating',\r\n      sortable: true,\r\n      render: (item) => <StarRating rating={item.rating} readonly />,\r\n    },\r\n    {\r\n      key: 'comment',\r\n      label: 'Comment',\r\n      render: (item) => <span className=\"text-sm text-gray-300\">{item.comment || '-'}</span>,\r\n    },\r\n  ];\r\n\r\n  const hasActiveSearch = filters.searchQuery.trim().length > 0;\r\n\r\n  // Error state\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded\"\r\n        >\r\n          <ArrowLeft size={20} />\r\n          Back\r\n        </button>\r\n        <div className=\"bg-gray-800 p-8 rounded border border-gray-700 text-center\">\r\n          <p className=\"text-gray-300 text-lg mb-4\">{error}</p>\r\n          <p className=\"text-gray-400 mb-6\">This user's profile is not accessible.</p>\r\n          {isFollowing && (\r\n            <button\r\n              onClick={handleUnfollowClick}\r\n              className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded flex items-center gap-2\"\r\n            >\r\n              <Check size={18} />\r\n              Following\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Loading state\r\n  if (!profile) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded\"\r\n        >\r\n          <ArrowLeft size={20} />\r\n          Back\r\n        </button>\r\n        <div className=\"text-center py-8 text-gray-400\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <AlertContainer alert={alert} />\r\n      {/* Back Button and Profile Header */}\r\n      <div className=\"flex items-start justify-between\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded\"\r\n        >\r\n          <ArrowLeft size={20} />\r\n          Back\r\n        </button>\r\n        <div className=\"flex-1 mx-6\">\r\n          <div className=\"bg-gray-800 p-6 rounded border border-gray-700\">\r\n            <div className=\"flex justify-between items-start\">\r\n              <div>\r\n                <div className=\"flex items-center gap-3 mb-2\">\r\n                  <h2 className=\"text-2xl font-bold text-white\">{profile.username}</h2>\r\n                  <span\r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      profile.role === 'ADMIN'\r\n                        ? 'bg-purple-600 text-white'\r\n                        : 'bg-gray-700 text-gray-200'\r\n                    }`}\r\n                  >\r\n                    {profile.role}\r\n                  </span>\r\n                </div>\r\n                {profile.email && (\r\n                  <p className=\"text-gray-400 text-sm mb-2\">{profile.email}</p>\r\n                )}\r\n                <div className=\"flex gap-6 text-sm text-gray-400\">\r\n                  <span>Joined: {new Date(profile.createdAt).toLocaleDateString()}</span>\r\n                  <span>Last Active: {new Date(profile.lastActive).toLocaleDateString()}</span>\r\n                  <span>Ratings: {profile.ratingsCount}</span>\r\n                  <span>Followers: {profile.followersCount}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {currentUser?.id !== userId && (\r\n                <div>\r\n                  {isFollowing ? (\r\n                    <div>\r\n                      {editingThreshold ? (\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <label className=\"flex items-center gap-2 text-white cursor-pointer\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={newThreshold === 0}\r\n                                onChange={(e) => setNewThreshold(e.target.checked ? 0 : 7)}\r\n                                className=\"w-4 h-4\"\r\n                              />\r\n                              <span className=\"text-sm\">Don't notify me about ratings</span>\r\n                            </label>\r\n                          </div>\r\n                          {newThreshold > 0 && (\r\n                            <div className=\"flex items-center gap-2 bg-gray-700 px-3 py-2 rounded\">\r\n                              <span className=\"text-gray-300 text-sm\">Threshold:</span>\r\n                              <input\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                max=\"10\"\r\n                                value={newThreshold}\r\n                                onChange={(e) => setNewThreshold(Number(e.target.value))}\r\n                                className=\"w-16 px-2 py-1 bg-gray-600 text-white rounded text-sm\"\r\n                              />\r\n                            </div>\r\n                          )}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={handleUpdateThreshold}\r\n                              className=\"px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded text-sm\"\r\n                            >\r\n                              Save\r\n                            </button>\r\n                            <button\r\n                              onClick={() => {\r\n                                setEditingThreshold(false);\r\n                                setNewThreshold(currentThreshold || 7);\r\n                              }}\r\n                              className=\"px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"space-y-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={handleUnfollowClick}\r\n                              className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded flex items-center gap-2\"\r\n                            >\r\n                              <Check size={18} />\r\n                              Following\r\n                            </button>\r\n                            <button\r\n                              onClick={() => setEditingThreshold(true)}\r\n                              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm\"\r\n                            >\r\n                              Edit Threshold\r\n                            </button>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-400\">\r\n                            {currentThreshold === 0 || currentThreshold === null\r\n                              ? 'No rating notification specified'\r\n                              : `Notify when rating â‰¥ ${currentThreshold}`}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <button\r\n                      onClick={handleFollowClick}\r\n                      className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-2\"\r\n                    >\r\n                      <UserPlus size={18} />\r\n                      Follow\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h3 className=\"text-xl font-bold text-white\">{profile.username}'s Media List</h3>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"flex gap-2\">\r\n        <div className=\"flex-1 relative\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n          <input\r\n            type=\"text\"\r\n            value={filters.searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder=\"Search by media name...\"\r\n            className=\"w-full pl-10 pr-10 py-2 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none\"\r\n          />\r\n          {hasActiveSearch && (\r\n            <button\r\n              onClick={() => setSearchQuery('')}\r\n              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white\"\r\n            >\r\n              <X size={18} />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters (categories only) */}\r\n      <MediaFilters\r\n        showFilters={showFilters}\r\n        onToggleFilters={() => setShowFilters(!showFilters)}\r\n        hasActiveFilters={hasActiveFilters}\r\n        filterCategories={filters.categories}\r\n        filterGenres={[]}\r\n        filterPlatforms={[]}\r\n        onCategoriesChange={setCategories}\r\n        onGenresChange={() => {}}\r\n        onPlatformsChange={() => {}}\r\n        availableGenres={[]}\r\n        availablePlatforms={[]}\r\n        toggleFilter={toggleFilter}\r\n        onClearAll={() => {\r\n          setSearchQuery('');\r\n          clearAllFilters();\r\n        }}\r\n        showGenres={false}\r\n        showPlatforms={false}\r\n      />\r\n\r\n      {/* Active Sort Display */}\r\n      {sortConfig && (\r\n        <div className=\"bg-gray-800 p-3 rounded border border-gray-700\">\r\n          <span className=\"text-sm text-gray-300\">Active sort: </span>\r\n          <span className=\"text-sm text-blue-400 ml-2\">\r\n            {sortConfig.key} {sortConfig.direction === 'asc' ? 'â†‘' : 'â†“'}\r\n          </span>\r\n          <button\r\n            onClick={() => handleSort(sortConfig.key)}\r\n            className=\"ml-4 text-sm text-red-400 hover:text-red-300\"\r\n          >\r\n            Clear sort\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      {paginationState.loading && items.length === 0 ? (\r\n        <div className=\"text-center py-8 text-gray-400\">Loading list...</div>\r\n      ) : (\r\n        <>\r\n          <MediaTable\r\n            columns={columns}\r\n            items={items}\r\n            sortConfig={sortConfig}\r\n            onSort={handleSort}\r\n            emptyMessage={\r\n              hasActiveFilters || hasActiveSearch\r\n                ? 'No items match your filters.'\r\n                : 'No items in list.'\r\n            }\r\n          />\r\n\r\n          <MediaPagination\r\n            paginationState={paginationState}\r\n            onNextPage={handleNextPage}\r\n            onPrevPage={handlePrevPage}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        isOpen={unfollowConfirm}\r\n        title=\"Unfollow User\"\r\n        message={`Are you sure you want to unfollow ${profile?.username}?`}\r\n        onConfirm={handleUnfollowConfirm}\r\n        onCancel={() => setUnfollowConfirm(false)}\r\n      />\r\n      <ThresholdModal\r\n        isOpen={followModal.show}\r\n        username={profile.username}\r\n        onConfirm={handleFollowConfirm}\r\n        onCancel={() => setFollowModal({ show: false })}\r\n      />\r\n    </div>\r\n  );\r\n};","import { useState, useCallback } from 'react';\r\nimport { Genre, Platform } from '../types';\r\nimport { MediaFilters, AvailableFilters } from '../types/media.types';\r\n\r\nexport interface UseFiltersProps {\r\n  includeWishToExperience?: boolean;\r\n}\r\n\r\nexport interface UseFiltersReturn {\r\n  filters: MediaFilters;\r\n  availableFilters: AvailableFilters;\r\n  setSearchQuery: (query: string) => void;\r\n  setCategories: (categories: string[]) => void;\r\n  setGenres: (genres: string[]) => void;\r\n  setPlatforms: (platforms: string[]) => void;\r\n  setWishToExperience: (value: boolean) => void;\r\n  setAvailableGenres: (genres: Genre[]) => void;\r\n  setAvailablePlatforms: (platforms: Platform[]) => void;\r\n  toggleFilter: (currentArray: string[], value: string) => string[];\r\n  clearAllFilters: () => void;\r\n  hasActiveFilters: boolean;\r\n}\r\n\r\n/**\r\n * Hook to manage filter state\r\n */\r\nexport function useFilters({ includeWishToExperience = false }: UseFiltersProps = {}): UseFiltersReturn {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [genres, setGenres] = useState<string[]>([]);\r\n  const [platforms, setPlatforms] = useState<string[]>([]);\r\n  const [wishToExperience, setWishToExperience] = useState(false);\r\n\r\n  const [availableGenres, setAvailableGenres] = useState<Genre[]>([]);\r\n  const [availablePlatforms, setAvailablePlatforms] = useState<Platform[]>([]);\r\n\r\n  /**\r\n   * Toggle a value in a filter array\r\n   */\r\n  const toggleFilter = useCallback((currentArray: string[], value: string): string[] => {\r\n    if (currentArray.includes(value)) {\r\n      return currentArray.filter(v => v !== value);\r\n    } else {\r\n      return [...currentArray, value];\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Clear all filters\r\n   */\r\n  const clearAllFilters = useCallback(() => {\r\n    setCategories([]);\r\n    setGenres([]);\r\n    setPlatforms([]);\r\n    if (includeWishToExperience) {\r\n      setWishToExperience(false);\r\n    }\r\n  }, [includeWishToExperience]);\r\n\r\n  /**\r\n   * Check if any filters are active\r\n   */\r\n  const hasActiveFilters = \r\n    categories.length > 0 || \r\n    genres.length > 0 || \r\n    platforms.length > 0 || \r\n    (includeWishToExperience && wishToExperience);\r\n\r\n  return {\r\n    filters: {\r\n      searchQuery,\r\n      categories,\r\n      genres,\r\n      platforms,\r\n      ...(includeWishToExperience ? { wishToExperience } : {}),\r\n    },\r\n    availableFilters: {\r\n      genres: availableGenres,\r\n      platforms: availablePlatforms,\r\n    },\r\n    setSearchQuery,\r\n    setCategories,\r\n    setGenres,\r\n    setPlatforms,\r\n    setWishToExperience,\r\n    setAvailableGenres,\r\n    setAvailablePlatforms,\r\n    toggleFilter,\r\n    clearAllFilters,\r\n    hasActiveFilters,\r\n  };\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Bell, BellOff, X } from 'lucide-react';\r\n\r\n// Constants\r\nconst MIN_THRESHOLD = 1;\r\nconst MAX_THRESHOLD = 10;\r\nconst DEFAULT_THRESHOLD = 7;\r\nconst MODAL_Z_INDEX = 'z-50';\r\n\r\ninterface ThresholdModalProps {\r\n  isOpen: boolean;\r\n  username: string;\r\n  currentThreshold?: number | null;\r\n  isLoading?: boolean;\r\n  onConfirm: (threshold: number | null) => void | Promise<void>;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const ThresholdModal: React.FC<ThresholdModalProps> = ({\r\n  isOpen,\r\n  username,\r\n  currentThreshold,\r\n  isLoading = false,\r\n  onConfirm,\r\n  onCancel,\r\n}) => {\r\n  const [threshold, setThreshold] = useState<number>(DEFAULT_THRESHOLD);\r\n  const [enableNotifications, setEnableNotifications] = useState(true);\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n  const cancelButtonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  /**\r\n   * Reset state when modal opens\r\n   */\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // If editing existing follow, use current threshold\r\n      if (currentThreshold !== undefined && currentThreshold !== null) {\r\n        setThreshold(currentThreshold);\r\n        setEnableNotifications(true);\r\n      } else if (currentThreshold === null) {\r\n        // Currently following without notifications\r\n        setThreshold(DEFAULT_THRESHOLD);\r\n        setEnableNotifications(false);\r\n      } else {\r\n        // New follow\r\n        setThreshold(DEFAULT_THRESHOLD);\r\n        setEnableNotifications(true);\r\n      }\r\n    }\r\n  }, [isOpen, currentThreshold]);\r\n\r\n  /**\r\n   * Handle escape key\r\n   */\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && !isLoading) {\r\n        onCancel();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, isLoading, onCancel]);\r\n\r\n  /**\r\n   * Focus trap\r\n   */\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const modal = modalRef.current;\r\n    if (!modal) return;\r\n\r\n    cancelButtonRef.current?.focus();\r\n\r\n    const focusableElements = modal.querySelectorAll<HTMLElement>(\r\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n\r\n    const firstElement = focusableElements[0];\r\n    const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n    const handleTab = (e: KeyboardEvent) => {\r\n      if (e.key !== 'Tab') return;\r\n\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstElement) {\r\n          e.preventDefault();\r\n          lastElement?.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastElement) {\r\n          e.preventDefault();\r\n          firstElement?.focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleTab);\r\n    return () => document.removeEventListener('keydown', handleTab);\r\n  }, [isOpen]);\r\n\r\n  /**\r\n   * Handle backdrop click\r\n   */\r\n  const handleBackdropClick = useCallback(\r\n    (e: React.MouseEvent) => {\r\n      if (e.target === e.currentTarget && !isLoading) {\r\n        onCancel();\r\n      }\r\n    },\r\n    [isLoading, onCancel]\r\n  );\r\n\r\n  /**\r\n   * Handle confirm\r\n   */\r\n  const handleConfirm = useCallback(async () => {\r\n    if (isLoading) return;\r\n\r\n    // Validate threshold\r\n    const finalThreshold = enableNotifications ? threshold : null;\r\n\r\n    if (enableNotifications && (threshold < MIN_THRESHOLD || threshold > MAX_THRESHOLD)) {\r\n      return; // Should not happen due to input constraints\r\n    }\r\n\r\n    await onConfirm(finalThreshold);\r\n  }, [isLoading, enableNotifications, threshold, onConfirm]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className={`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 ${MODAL_Z_INDEX}`}\r\n      onClick={handleBackdropClick}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"threshold-modal-title\"\r\n      aria-describedby=\"threshold-modal-description\"\r\n    >\r\n      <div\r\n        ref={modalRef}\r\n        className=\"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700 shadow-xl\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <h3 id=\"threshold-modal-title\" className=\"text-xl font-bold text-white\">\r\n            Follow {username}\r\n          </h3>\r\n          <button\r\n            onClick={onCancel}\r\n            disabled={isLoading}\r\n            className=\"text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Description */}\r\n        <p id=\"threshold-modal-description\" className=\"text-gray-300 mb-6\">\r\n          Choose whether you want to receive notifications when {username} rates items.\r\n        </p>\r\n\r\n        {/* Notification Options */}\r\n        <div className=\"space-y-4 mb-6\">\r\n          {/* Enable/Disable Toggle */}\r\n          <div className=\"bg-gray-700 rounded-lg p-4 space-y-3\">\r\n            <label className=\"flex items-start gap-3 cursor-pointer group\">\r\n              <div className=\"flex items-center h-6\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"notification-type\"\r\n                  checked={enableNotifications}\r\n                  onChange={() => setEnableNotifications(true)}\r\n                  disabled={isLoading}\r\n                  className=\"w-4 h-4 text-blue-600 cursor-pointer\"\r\n                />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                  <Bell size={16} />\r\n                  <span>Enable notifications</span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-400 mt-1\">\r\n                  Get notified when {username} rates items at or above your threshold\r\n                </p>\r\n              </div>\r\n            </label>\r\n\r\n            <label className=\"flex items-start gap-3 cursor-pointer group\">\r\n              <div className=\"flex items-center h-6\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"notification-type\"\r\n                  checked={!enableNotifications}\r\n                  onChange={() => setEnableNotifications(false)}\r\n                  disabled={isLoading}\r\n                  className=\"w-4 h-4 text-blue-600 cursor-pointer\"\r\n                />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                  <BellOff size={16} />\r\n                  <span>Follow silently</span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-400 mt-1\">\r\n                  Follow {username} without receiving notifications\r\n                </p>\r\n              </div>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Threshold Slider */}\r\n          {enableNotifications && (\r\n            <div className=\"bg-gray-700 rounded-lg p-4\">\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-3\">\r\n                Minimum rating threshold: <span className=\"text-white text-lg\">{threshold}</span>\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                <input\r\n                  type=\"range\"\r\n                  min={MIN_THRESHOLD}\r\n                  max={MAX_THRESHOLD}\r\n                  value={threshold}\r\n                  onChange={(e) => setThreshold(Number(e.target.value))}\r\n                  disabled={isLoading}\r\n                  className=\"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-600\"\r\n                  aria-label=\"Rating threshold\"\r\n                />\r\n                <div className=\"flex justify-between text-xs text-gray-400\">\r\n                  <span>{MIN_THRESHOLD}</span>\r\n                  <span className=\"text-gray-300\">\r\n                    Notify when rating â‰¥ {threshold}\r\n                  </span>\r\n                  <span>{MAX_THRESHOLD}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-3 justify-end\">\r\n          <button\r\n            ref={cancelButtonRef}\r\n            onClick={onCancel}\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleConfirm}\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 min-w-[100px]\"\r\n          >\r\n            {isLoading ? 'Processing...' : 'Follow'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Hook to debounce a value\r\n * @param value - The value to debounce\r\n * @param delay - Delay in milliseconds\r\n * @returns Debounced value\r\n */\r\nexport function useDebounce<T>(value: T, delay: number = 500): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}","import React from 'react';\r\nimport type { SortConfig } from '../../../types/media.types';\r\n\r\nexport interface MediaTableColumn<T = any> {\r\n  key: string;\r\n  label: string;\r\n  sortable?: boolean;\r\n  align?: 'left' | 'center' | 'right';\r\n  headerClassName?: string;\r\n  cellClassName?: string;\r\n  render: (item: T, index: number) => React.ReactNode;\r\n}\r\n\r\nexport interface MediaTableProps<T = any> {\r\n  columns: MediaTableColumn<T>[];\r\n  items: T[];\r\n  sortConfig: SortConfig | null;\r\n  onSort?: (key: string) => void;\r\n  emptyMessage?: string;\r\n}\r\n\r\n/**\r\n * Reusable table component with sortable headers\r\n */\r\nexport const MediaTable = <T,>({\r\n  columns,\r\n  items,\r\n  sortConfig,\r\n  onSort,\r\n  emptyMessage = 'No items to display',\r\n}: MediaTableProps<T>) => {\r\n  const getSortIcon = (key: string) => {\r\n    if (!sortConfig || sortConfig.key !== key) return null;\r\n\r\n    return (\r\n      <span className=\"ml-1 text-blue-400 text-xs\">\r\n        {sortConfig.direction === 'asc' ? 'â†‘' : 'â†“'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-gray-400\">\r\n        {emptyMessage}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full\">\r\n        <thead className=\"bg-gray-700 text-gray-300 text-sm\">\r\n          <tr>\r\n            {columns.map((column) => (\r\n              <th\r\n                key={column.key}\r\n                className={`px-4 py-3 text-${column.align || 'left'} ${\r\n                  column.sortable && onSort ? 'cursor-pointer hover:bg-gray-600' : ''\r\n                } ${column.headerClassName || ''}`}\r\n                onClick={column.sortable && onSort ? () => onSort(column.key) : undefined}\r\n              >\r\n                {column.label}\r\n                {column.sortable && getSortIcon(column.key)}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"text-sm\">\r\n          {items.map((item, index) => (\r\n            <tr key={(item as any).id || index} className=\"border-b border-gray-700 hover:bg-gray-800\">\r\n              {columns.map((column) => (\r\n                <td\r\n                  key={column.key}\r\n                  className={`px-4 py-3 ${column.cellClassName || ''}`}\r\n                >\r\n                  {column.render(item, index)}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};","import { useState, useCallback } from 'react';\r\nimport { SortConfig, PaginationMode } from '../types/media.types';\r\n\r\nexport interface UseSortReturn {\r\n  sortConfig: SortConfig | null;\r\n  paginationMode: PaginationMode;\r\n  handleSort: (key: string) => void;\r\n  setSortConfig: (config: SortConfig | null) => void;\r\n}\r\n\r\n/**\r\n * Hook to manage sort state and pagination mode switching\r\n */\r\nexport function useSort(): UseSortReturn {\r\n  const [sortConfig, setSortConfig] = useState<SortConfig | null>(null);\r\n  const [paginationMode, setPaginationMode] = useState<PaginationMode>('cursor');\r\n\r\n  /**\r\n   * Handle sort toggle (3-state: asc -> desc -> none)\r\n   */\r\n  const handleSort = useCallback((key: string) => {\r\n    setSortConfig(current => {\r\n      if (!current || current.key !== key) {\r\n        // First click: sort ascending, switch to offset pagination\r\n        setPaginationMode('offset');\r\n        return { key, direction: 'asc' };\r\n      } else if (current.direction === 'asc') {\r\n        // Second click: sort descending, stay in offset pagination\r\n        return { key, direction: 'desc' };\r\n      } else {\r\n        // Third click: remove sort, switch back to cursor pagination\r\n        setPaginationMode('cursor');\r\n        return null;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    sortConfig,\r\n    paginationMode,\r\n    handleSort,\r\n    setSortConfig,\r\n  };\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }]];\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('chevron-right', __iconNode);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import React from 'react';\r\nimport { Filter, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport type { Genre, Platform } from '../../../types';\r\n\r\nexport interface MediaFiltersProps {\r\n  showFilters: boolean;\r\n  onToggleFilters: () => void;\r\n  hasActiveFilters: boolean;\r\n  \r\n  // Filter values\r\n  filterCategories: string[];\r\n  filterGenres: string[];\r\n  filterPlatforms: string[];\r\n  wishToExperience?: boolean;\r\n  \r\n  // Filter setters\r\n  onCategoriesChange: (categories: string[]) => void;\r\n  onGenresChange: (genres: string[]) => void;\r\n  onPlatformsChange: (platforms: string[]) => void;\r\n  onWishToExperienceChange?: (value: boolean) => void;\r\n  \r\n  // Available options\r\n  availableGenres: Genre[];\r\n  availablePlatforms: Platform[];\r\n  \r\n  // Toggle utility\r\n  toggleFilter: (currentArray: string[], value: string) => string[];\r\n  \r\n  // Clear all\r\n  onClearAll: () => void;\r\n  \r\n  // Conditional rendering\r\n  showGenres?: boolean;\r\n  showPlatforms?: boolean;\r\n  showWishToExperience?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable filter panel component\r\n */\r\nexport const MediaFilters: React.FC<MediaFiltersProps> = ({\r\n  showFilters,\r\n  onToggleFilters,\r\n  hasActiveFilters,\r\n  filterCategories,\r\n  filterGenres,\r\n  filterPlatforms,\r\n  wishToExperience,\r\n  onCategoriesChange,\r\n  onGenresChange,\r\n  onPlatformsChange,\r\n  onWishToExperienceChange,\r\n  availableGenres,\r\n  availablePlatforms,\r\n  toggleFilter,\r\n  onClearAll,\r\n  showGenres = true,\r\n  showPlatforms = true,\r\n  showWishToExperience = false,\r\n}) => {\r\n  return (\r\n    <>\r\n      {/* Filter Toggle Button */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <button\r\n          onClick={onToggleFilters}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded border border-gray-700\"\r\n        >\r\n          <Filter size={18} />\r\n          {showFilters ? 'Hide Filters' : 'Show Filters'}\r\n          {showFilters ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n          {hasActiveFilters && !showFilters && (\r\n            <span className=\"ml-2 px-2 py-0.5 bg-blue-600 text-xs rounded\">Active</span>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Collapsible Filters */}\r\n      {showFilters && (\r\n        <div className=\"bg-gray-800 p-4 rounded border border-gray-700 space-y-4\">\r\n          {showWishToExperience && onWishToExperienceChange && (\r\n            <div className=\"flex items-center gap-4\">\r\n              <h3 className=\"text-white font-medium\">Filters:</h3>\r\n              <label className=\"flex items-center gap-2 text-white cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={wishToExperience || false}\r\n                  onChange={(e) => onWishToExperienceChange(e.target.checked)}\r\n                  className=\"w-4 h-4\"\r\n                />\r\n                Wish to Experience\r\n              </label>\r\n            </div>\r\n          )}\r\n\r\n          {!showWishToExperience && <h3 className=\"text-white font-medium\">Filters:</h3>}\r\n\r\n          {/* Categories */}\r\n          <div>\r\n            <label className=\"block text-sm text-gray-300 mb-2\">Categories:</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {['MOVIE', 'SERIES', 'GAME'].map(cat => (\r\n                <button\r\n                  key={cat}\r\n                  onClick={() => onCategoriesChange(toggleFilter(filterCategories, cat))}\r\n                  className={`px-3 py-1 rounded text-sm ${\r\n                    filterCategories.includes(cat)\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                  }`}\r\n                >\r\n                  {cat}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Genres */}\r\n          {showGenres && availableGenres.length > 0 && (\r\n            <div>\r\n              <label className=\"block text-sm text-gray-300 mb-2\">Genres:</label>\r\n              <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\r\n                {availableGenres.map(genre => (\r\n                  <button\r\n                    key={genre.id}\r\n                    onClick={() => onGenresChange(toggleFilter(filterGenres, genre.name))}\r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      filterGenres.includes(genre.name)\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {genre.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Platforms */}\r\n          {showPlatforms && availablePlatforms.length > 0 && (\r\n            <div>\r\n              <label className=\"block text-sm text-gray-300 mb-2\">Platforms:</label>\r\n              <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\r\n                {availablePlatforms.map(platform => (\r\n                  <button\r\n                    key={platform.id}\r\n                    onClick={() => onPlatformsChange(toggleFilter(filterPlatforms, platform.name))}\r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      filterPlatforms.includes(platform.name)\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {platform.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Clear All */}\r\n          {hasActiveFilters && (\r\n            <button\r\n              onClick={onClearAll}\r\n              className=\"text-sm text-blue-400 hover:text-blue-300\"\r\n            >\r\n              Clear all filters\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};"],"names":["ConfirmModal","_ref","isOpen","title","message","confirmText","cancelText","confirmVariant","isLoading","onConfirm","onCancel","modalRef","useRef","cancelButtonRef","confirmButtonRef","useEffect","handleEscape","e","key","document","addEventListener","removeEventListener","_cancelButtonRef$curr","modal","current","focus","focusableElements","querySelectorAll","firstElement","lastElement","length","handleTab","shiftKey","activeElement","preventDefault","handleBackdropClick","useCallback","target","currentTarget","handleConfirm","async","confirmButtonClass","_jsx","className","concat","onClick","role","children","_jsxs","ref","AlertTriangle","size","id","disabled","X","getCategoryColor","category","useMediaPagination","fetchFunction","filters","sortConfig","paginationMode","items","setItems","useState","paginationState","setPaginationState","currentPage","totalPages","totalCount","hasNextPage","hasPrevPage","loading","cursors","setCursors","abortControllerRef","loadPage","pageNum","abort","AbortController","prev","_objectSpread","cursor","result","page","hasMore","newCursors","push","Math","ceil","error","name","console","handleNextPage","handlePrevPage","resetPagination","UserPlus","createLucideIcon","d","cx","cy","r","x1","x2","y1","y2","MediaPagination","onNextPage","onPrevPage","ChevronLeft","ChevronRight","ChevronDown","Funnel","ArrowLeft","UserProfile","userId","onBack","user","currentUser","useAuth","profile","setProfile","setError","isFollowing","setIsFollowing","currentThreshold","setCurrentThreshold","alert","handleApiError","useAlert","setSearchQuery","setCategories","toggleFilter","clearAllFilters","hasActiveFilters","useFilters","debouncedSearchQuery","useDebounce","searchQuery","handleSort","useSort","currentFilters","currentSortConfig","currentMode","_ref2","categories","undefined","backendSortBy","backendSortDirection","direction","response","api","userMedia","getUserMediaListSorted","displayUserId","sortBy","sortDirection","content","totalElements","getUserMediaListCursor","cursorName","cursorId","limit","nextCursor","genres","platforms","showFilters","setShowFilters","followModal","setFollowModal","show","unfollowConfirm","setUnfollowConfirm","editingThreshold","setEditingThreshold","newThreshold","setNewThreshold","isInitialMount","loadProfile","data","users","getUserProfile","followRelation","follows","getFollowing","find","f","String","minimumRatingThreshold","includes","handleUnfollowClick","columns","label","render","item","mediaItem","sortable","year","map","g","join","p","align","experienced","wishToReexperience","StarRating","rating","readonly","comment","hasActiveSearch","trim","Check","AlertContainer","username","email","Date","createdAt","toLocaleDateString","lastActive","ratingsCount","followersCount","type","checked","onChange","min","max","value","Number","updateFollowThreshold","handleFollowClick","Search","placeholder","MediaFilters","onToggleFilters","filterCategories","filterGenres","filterPlatforms","onCategoriesChange","onGenresChange","onPlatformsChange","availableGenres","availablePlatforms","onClearAll","showGenres","showPlatforms","_Fragment","MediaTable","onSort","emptyMessage","unfollowUser","ThresholdModal","followUser","threshold","includeWishToExperience","arguments","setGenres","setPlatforms","wishToExperience","setWishToExperience","setAvailableGenres","setAvailablePlatforms","currentArray","filter","v","availableFilters","ChevronUp","setThreshold","enableNotifications","setEnableNotifications","finalThreshold","Bell","BellOff","delay","debouncedValue","setDebouncedValue","timer","setTimeout","clearTimeout","column","headerClassName","index","cellClassName","setSortConfig","setPaginationMode","onWishToExperienceChange","showWishToExperience","Filter","cat","genre","platform"],"ignoreList":[],"sourceRoot":""}